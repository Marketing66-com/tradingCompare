{% extends 'base.html.twig' %}


 {% block description %}
     <title>{{ name }} ({{ currency }}) {{ 'title.chart_crypto1'|trans }}{{ name }} {{ 'title.chart_crypto2'|trans }} - Trading Compare</title>
     <meta name="description" content="{{ 'description.chart_crypto1'|trans }} {{ name }} ${{ currency }} {{ 'description.chart_crypto2'|trans }} {{ name }} {{ 'description.chart_crypto3'|trans }} {{ currency }}.">
 {% endblock %}


{% block body %}

    <link rel="stylesheet" href="https://www.interactivecrypto.com/chart_iq_web/css/perfect-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/normalize.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/page-defaults.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/stx-chart.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/chartiq.css" media="screen" />
    <link rel="stylesheet" href="https://www.interactivecrypto.com/chart_iq_web/css/perfect-scrollbar.css" />
    <link rel="stylesheet" href='{{ asset("css/charts.css") }}' />
    <link rel="stylesheet" href='{{ asset("css/chart-live-iq.css") }}' />

    {{ include('default/searchbar_chart.html.twig') }}
    <div id="dvChart" class="my-container ng-cloak" ng-controller="ChartController" ng-init="init('{{ currency }}', '{{ from }}', '{{ to }}','{{ crypto_api }}','{{ name }}')">
        <div ng-controller="ChartController ">
            <section class="table">
                {#<div class="chart_search">#}
                {#<div class="container">#}
                {#<div class="row">#}
                {#<input class="search_input" type="" placeholder="Search Instruments">#}
                {#</div>#}
                {#</div>#}
                {#</div>#}


                <div class="container padding_non">
                    <div class="row ">

                        <div class="col-md-8 col-sm-12 col-xs-12 " style="padding-right: 0px;padding-left: 0px;">
                            <div class="chart_bitcoin-cont ">
                                <div class="bitcoin_text-cont">
                                    <div class="bitcoin_img-cont">
                                        <img class="bitcoin_img" ng-src="{[{mycrypto.img}]}" onerror="this.src='/img/crypto_logos/crypto-other.png'";>
                                    </div>
                                    <div class="bitcoin_text-cont_left ">
                                        <h3 class="bitcoin_title text_size">{[{mycrypto.name}]}<span class="bitcoin_title_right">{[{mycrypto.pair.replace("_","/")}]}</span>
                                            {#<span class="bitcoin_title_right-start"><i class="fas fa-star"></i></span>#}
                                            <span ng-if="userLoggedIn && is_in_watchlist" ng-click="delete_from_watchlist()" style="cursor: pointer" class="bitcoin_title_right-start"><i class="fas fa-star"></i></span>
                                            <span ng-if="userLoggedIn && !is_in_watchlist" ng-click="add_to_watchlist()" style="color: #999999; cursor: pointer" class="bitcoin_title_right-start"><i class="far fa-star"></i></span>
                                            <span ng-if="!userLoggedIn" ng-click="click_on_star()" class="bitcoin_title_right-start" style="color: #999999;cursor: pointer"><i class="far fa-star"></i></span>
                                        </h3>
                                        <h3 class="bitcoin_many_stock text_size" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}
                                            <span class="statistics_block-text" ng-class="{'negative': mycrypto.change24 < 0, 'positive': mycrypto.change24 >= 0}">{[{mycrypto.change24}]}%
                                                <span class="statistics_block_min-text">{[{mycrypto.point}]}</span>
                                                <span class="bitcoin_green-text_icon"><i class="fas fa-share"></i></span></span>
                                        </h3>
                                    </div>
                                    <div class="bitcoin_text-cont_right">
                                        <a class="btcoin_btn btn1" href="http://borthy-carges.com/98dd47bc-5797-47bf-847a-784a2445ee36" target="_blank">{{ 'button.trade_now'|trans }}</a>
                                    </div>
                                </div>
                            </div>

                            <div class="chart_content-text chart_content-text1 ">
                                <div class="bitcoin_text-cont_left">
                                    <p class="bitcoin_bottom-text text-price column">

                                        {{ 'high'|trans }} : <span class="bitcoin_bottom-text_bold">{[{mycrypto.high24}]}</span>
                                        <br>{{ 'low'|trans }} : <span class="bitcoin_bottom-text_bold">{[{mycrypto.low24}]}</span>
                                        <br>{{ 'open'|trans }} : <span class="bitcoin_bottom-text_bold">{[{mycrypto.open24}]}</span>
                                        <br>{{ 'close'|trans }} : <span class="bitcoin_bottom-text_bold">{[{mycrypto.price}]}</span>
                                        <br>{{ 'market_cap'|trans }} : <span class="bitcoin_bottom-text_bold">{[{mycrypto.marketcap}]}</span>
                                        <br>{{ 'volume'|trans }}  : <span class="bitcoin_bottom-text_bold">{[{mycrypto.volume}]}</span>

                                    </p>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-6 col-xs-12 col-sm1 ">
                            <div class="chart_bitcoin-reting chart_bitcoin-reting1 box_height_crypto1" style="    padding-bottom: 0px;    padding-top: 20px;">
                                <div class="col-md-6 col-sm-6 col-xs-6 ">
                                    <a ng-if="!userLoggedIn" ng-click="click_on_star()" class="btcoin_btn sentiments_btn_green" target="_blank">{{ 'button.bullish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'CLOSE'" ng-click="add_sentiment('BULLISH')" class="btcoin_btn sentiments_btn_green" target="_blank">{{ 'button.bullish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'OPEN' && type_sentiment != 'BULLISH'" ng-click="AlreadyOpen()" class="btcoin_btn sentiments_btn_green" class="btcoin_btn sentiments_btn_green" target="_blank">{{ 'button.bullish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'OPEN' && type_sentiment == 'BULLISH'" ng-click="AlreadyOpen()" class="btcoin_btn sentiments_btn_green_selected" class="btcoin_btn sentiments_btn_green" target="_blank">{{ 'button.bullish'|trans }}</a>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6 ">
                                    <a ng-if="!userLoggedIn" class="btcoin_btn sentiments_btn_red" target="_blank">{{ 'button.bearish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'CLOSE'" ng-click="add_sentiment('BEARISH')"  class="btcoin_btn sentiments_btn_red" class="btcoin_btn sentiments_btn_red" target="_blank">{{ 'button.bearish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'OPEN' && type_sentiment != 'BEARISH'" ng-click="AlreadyOpen()" class="btcoin_btn sentiments_btn_red" target="_blank"> {{ 'button.bearish'|trans }}</a>
                                    <a ng-if="userLoggedIn && status_sentiment == 'OPEN' && type_sentiment == 'BEARISH'" ng-click="AlreadyOpen()" class="btcoin_btn sentiments_btn_red_selected" target="_blank"> {{ 'button.bearish'|trans }}</a>
                                </div>
                                <p
                                        {#class="chart_bitcoin-reting_prozent"#}
                                >{{ 'sentiment'|trans }} : {[{mycrypto.sentiment }]}% {{ 'buying'|trans }} </p>
                                <div class="chart_bitcoin-reting_progress-bar">
                                    <div ng-if="mycrypto.sentiment < '50'" class="reting_progress-bar_click reting_progress-bar_click_red"></div>
                                    <div ng-if="mycrypto.sentiment >= '50'" class="reting_progress-bar_click"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-6 col-xs-12 col-sm2">
                            <div class="chart_content-text chart_bitcoin-reting box_height_crypto2" >
                                <p class="chart_content-text_info">
                                    {[{mycrypto.name}]} - {{ currency}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="my-container">
                    {#<section class="table">#}
                    <div class="container">
                        <div class="row ">
                            <div class="select-exchange" style="height:75px; background-color:#151f28; border:1px solid #151f28">
                                {#<input  style="width:15%;" type="search" placeholder=" Search currencies " id="tags" />#}
                                <select style="width: 98%" id="selectExchange" class="my_select"
                                        data-ng-model="setExchange"
                                        data-ng-options="exchange for exchange in Exchanges"
                                        ng-change="changedValue()"
                                >
                                    {#<option ng-repeat="exchange in Exchanges">{[{exchange}]}</option>#}
                                    <option value="" >General Chart</option>
                                </select>
                                {#<button style="width:7%;" id="buy_button" class="buy_button"></button>#}
                                {#<button style="width:7%;" id="sell_button" class="sell_button"></button>#}
                            </div>
                        </div>
                    </div>
                    {#</section>#}
                </div>

            </section>
        </div>
    </div>

    <div class="my-container">
        <div>
            <section class="table">
                <div class="container">
                    <div class="row ">
                        {#<div class="general-chart ">#}
                        {#<div class="select-exchange" style="height:75px; background-color:#151f28; border:1px solid #151f28">#}
                        {#<input  style="width:15%;" type="search" placeholder=" Search currencies " id="tags" />#}
                        {#<select style="width: 98%" id="selectExchange" class="my_select" onchange= "ChangeExchange('{{ from}}','{{ to }}')"></select>#}
                        {#<button style="width:7%;" id="buy_button" class="buy_button"></button>#}
                        {#<button style="width:7%;" id="sell_button" class="sell_button"></button>#}
                        {#</div>#}

                        {#</div>#}
                        <div class=" chart ">
                            <div>
                                <cq-context class="container">
                                    <cq-ui-manager></cq-ui-manager>
                                    <cq-color-picker>
                                        <cq-colors></cq-colors>
                                        <cq-overrides>
                                            <template>
                                                <div class="ciq-btn"></div>
                                            </template>
                                        </cq-overrides>
                                    </cq-color-picker>


                                    <div class="ciq-nav">

                                        <div class="ciq-menu-section">
                                            <div class="ciq-dropdowns">
                                                <cq-menu class="ciq-menu ciq-period">

                                                    <span><cq-clickable stxbind="Layout.periodicity">1 D</cq-clickable></span>
                                                    <cq-menu-dropdown>
                                                        <cq-item stxtap="Layout.setPeriodicity(1,1,'day')">1 D</cq-item>
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'week')">1 W</cq-item>#}
                                                        <cq-item stxtap="Layout.setPeriodicity(7,1,'day')">1 W</cq-item>
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'month')">1 Mo</cq-item>#}
                                                        <cq-separator></cq-separator>
                                                        <cq-item stxtap="Layout.setPeriodicity(1,1,'minute')">1 Min</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(1,5,'minute')">5 Min</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(2,5,'minute')">10 Min</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(3,5,'minute')">15 Min</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(1,30,'minute')">30 Min</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(2,30,'minute')">1 Hour</cq-item>
                                                        <cq-item stxtap="Layout.setPeriodicity(8,30,'minute')">4 Hour</cq-item>
                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                                <cq-menu class="ciq-menu ciq-views
                                                {#collapse#}
                                                ">
                                                    <span>Views</span>
                                                    <cq-menu-dropdown>
                                                        <cq-views>
                                                            <cq-heading>Saved Views</cq-heading>
                                                            <cq-views-content>
                                                                <template cq-view>
                                                                    <cq-item>
                                                                        <cq-label></cq-label>
                                                                        <div class="ciq-icon ciq-close"></div>
                                                                    </cq-item>
                                                                </template>
                                                            </cq-views-content>
                                                            <cq-separator cq-partial></cq-separator>
                                                            <cq-view-save>
                                                                <cq-item><cq-plus></cq-plus>Save View</cq-item>
                                                            </cq-view-save>
                                                        </cq-views>
                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                                <cq-menu class="ciq-menu ciq-display
                                                {#collapse#}
                                                ">
                                                    <span>Display</span>
                                                    <cq-menu-dropdown>
                                                        <cq-heading>Chart Style</cq-heading>
                                                        <cq-item stxsetget="Layout.ChartType('candle')">Candle<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('bar')">Bar<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('colored_bar')">Colored Bar<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('line')">Line<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('hollow_candle')">Hollow Candle<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('mountain')">Mountain<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('baseline_delta')">Baseline<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ChartType('volume_candle')">Volume Candle<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-separator></cq-separator>
                                                        <cq-item>
                                                            <div stxsetget="Layout.ChartType('heikinashi')">Heikin Ashi<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-item>
                                                            <span class="ciq-edit" stxtap="Layout.showAggregationEdit('kagi')"></span>
                                                            <div stxsetget="Layout.ChartType('kagi')">Kagi<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-item>
                                                            <span class="ciq-edit" stxtap="Layout.showAggregationEdit('linebreak')"></span>
                                                            <div stxsetget="Layout.ChartType('linebreak')">Line Break<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-item>
                                                            <span class="ciq-edit" stxtap="Layout.showAggregationEdit('renko')"></span>
                                                            <div stxsetget="Layout.ChartType('renko')">Renko<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-item>
                                                            <span class="ciq-edit" stxtap="Layout.showAggregationEdit('rangebars')"></span>
                                                            <div stxsetget="Layout.ChartType('rangebars')">Range Bars<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-item>
                                                            <span class="ciq-edit" stxtap="Layout.showAggregationEdit('pandf')"></span>
                                                            <div stxsetget="Layout.ChartType('pandf')">Point & Figure<span class="ciq-radio"><span></span></span>
                                                            </div>
                                                        </cq-item>
                                                        <cq-separator></cq-separator>
                                                        <cq-heading>Chart Preferences</cq-heading>
                                                        <cq-item stxsetget="Layout.ChartScale('log')">Log Scale<span class="ciq-checkbox ciq-active"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.ExtendedHours()">Extended Hours<span class="ciq-checkbox ciq-active"><span></span></span>
                                                        </cq-item>
                                                        <cq-item stxsetget="Layout.RangeSlider()">Range Selector<span class="ciq-checkbox ciq-active"><span></span></span>
                                                        </cq-item>
                                                        <cq-separator></cq-separator>
                                                        <cq-heading>Locale</cq-heading>
                                                        <cq-item><cq-clickable cq-selector="cq-timezone-dialog" cq-method="open">Change Timezone</cq-clickable></cq-item>
                                                        <cq-item stxsetget="Layout.Language()"><cq-flag></cq-flag><cq-language-name>Change Language</cq-language-name></cq-item>
                                                        <cq-separator></cq-separator>
                                                        <cq-heading>Themes</cq-heading>
                                                        <cq-themes>
                                                            <cq-themes-builtin cq-no-close>
                                                                <template>
                                                                    <cq-item></cq-item>
                                                                </template>
                                                            </cq-themes-builtin>
                                                            <cq-themes-custom cq-no-close>
                                                                <template>
                                                                    <cq-theme-custom>
                                                                        <cq-item>
                                                                            <cq-label></cq-label>
                                                                            <cq-close></cq-close>
                                                                        </cq-item>
                                                                    </cq-theme-custom>
                                                                </template>
                                                            </cq-themes-custom>
                                                            <cq-separator cq-partial></cq-separator>
                                                            <cq-item stxtap="newTheme()"><cq-plus></cq-plus>New Theme</cq-item>
                                                        </cq-themes>
                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                                <cq-menu class="ciq-menu ciq-studies
                                                {#collapse#}
                                                ">
                                                    <span>Studies</span>
                                                    <cq-menu-dropdown cq-no-scroll>
                                                        <cq-study-legend cq-no-close>
                                                            <cq-section-dynamic>
                                                                <cq-heading>Current Studies</cq-heading>
                                                                <cq-study-legend-content>
                                                                    <template>
                                                                        <cq-item>
                                                                            <cq-label class="click-to-edit"></cq-label>
                                                                            <div class="ciq-icon ciq-close"></div>
                                                                        </cq-item>
                                                                    </template>
                                                                </cq-study-legend-content>
                                                                <cq-placeholder>
                                                                    <div stxtap="Layout.clearStudies()" class="ciq-btn sm">Clear All</div>
                                                                </cq-placeholder>
                                                            </cq-section-dynamic>
                                                        </cq-study-legend>
                                                        <cq-scroll cq-studies>
                                                            <cq-item class="stxTemplate"></cq-item>
                                                        </cq-scroll>

                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                                <cq-menu class="ciq-menu stx-markers
                                                {#collapse#}
                                                ">
                                                    <span>Events</span>
                                                    <cq-menu-dropdown>
                                                        <cq-item class="square">Simple Square<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item class="circle">Simple Circle<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item class="callout">Callouts<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item class="abstract">Abstract<span class="ciq-radio"><span></span></span>
                                                        </cq-item>
                                                        <cq-item class="none">None<span class="ciq-radio ciq-active"><span></span></span>
                                                        </cq-item>
                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                            </div>

                                            <!-- enables the more button when in break-sm mode -->
                                            <div class="sidenav-toggle ciq-toggles">
                                                <cq-toggle class="ciq-sidenav" cq-member="sidenav" cq-toggles="sidenavOn,sidenavOff"><span></span>
                                                    <cq-tooltip>More</cq-tooltip>
                                                </cq-toggle>
                                            </div>

                                            <!-- any entry in this div will be shown in the side navigation bar in break-sm mode -->
                                            <div class="icon-toggles ciq-toggles">
                                                <cq-toggle class="ciq-CH" cq-member="crosshair"><span></span><cq-tooltip>Crosshair</cq-tooltip></cq-toggle>
                                                <cq-toggle class="ciq-HU" cq-member="headsUp" cq-toggles="dynamic,static,null"><span></span><cq-tooltip>Info</cq-tooltip></cq-toggle>
                                                <cq-toggle class="ciq-draw"><span></span><cq-tooltip>Draw</cq-tooltip></cq-toggle>

                                                <!-- comment in the following line if you are using the TFC plug in -->
                                                <!-- <cq-toggle class="sidebar stx-trade"><span></span><cq-tooltip>Trade</cq-tooltip></cq-toggle> -->
                                                <!-- comment in the following line if you are using the tradingcentral plug in -->
                                                <!-- <cq-toggle class="stx-tradingcentral"><span></span><cq-tooltip>Analysis</cq-tooltip></cq-toggle> -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End Navbar -->

                                    <!-- comment in the following line if you are using the TFC plug in -->
                                    <!-- <cq-tfc></cq-tfc> -->

                                    <!-- comment in the following line if you are using the tradingcentral plug in -->
                                    <!-- <cq-tradingcentral token="leWp5sKSbV7sENXba2EUXQ==" partner="647" disabled></cq-tradingcentral> -->

                                    <div class="ciq-chart-area">
                                        <div class="ciq-chart">
                                            <cq-toolbar>
                                                <cq-menu class="ciq-select">
                                                    <span cq-current-tool>Select Tool</span>
                                                    <cq-menu-dropdown>
                                                        <cq-item stxtap="noTool()">None</cq-item>
                                                        <cq-item stxtap="clearDrawings()">Clear Drawings</cq-item>
                                                        <cq-item stxtap="tool('measure')">Measure</cq-item>
                                                        <cq-separator></cq-separator>
                                                        <cq-item stxtap="tool('annotation')">Annotation</cq-item>
                                                        <cq-item stxtap="tool('average')">Average Line</cq-item>
                                                        <cq-item stxtap="tool('callout')">Callout</cq-item>
                                                        <cq-item stxtap="tool('channel')">Channel</cq-item>
                                                        <cq-item stxtap="tool('continuous')">Continuous</cq-item>
                                                        <cq-item stxtap="tool('crossline')">Crossline</cq-item>
                                                        <cq-item stxtap="tool('freeform')">Doodle</cq-item>
                                                        <cq-item stxtap="tool('ellipse')">Ellipse</cq-item>
                                                        <cq-item stxtap="tool('fibonacci')">Fibonacci</cq-item>
                                                        <cq-item stxtap="tool('fibarc')">Fib Arc</cq-item>
                                                        <cq-item stxtap="tool('fibfan')">Fib Fan</cq-item>
                                                        <cq-item stxtap="tool('fibtimezone')">Fib Time Zone</cq-item>
                                                        <cq-item stxtap="tool('gannfan')">Gann Fan</cq-item>
                                                        <cq-item stxtap="tool('gartley')">Gartley</cq-item>
                                                        <cq-item stxtap="tool('horizontal')">Horizontal</cq-item>
                                                        <cq-item stxtap="tool('line')">Line</cq-item>
                                                        <cq-item stxtap="tool('pitchfork')">Pitchfork</cq-item>
                                                        <cq-item stxtap="tool('quadrant')">Quadrant Lines</cq-item>
                                                        <cq-item stxtap="tool('ray')">Ray</cq-item>
                                                        <cq-item stxtap="tool('rectangle')">Rectangle</cq-item>
                                                        <cq-item stxtap="tool('regression')">Regression Line</cq-item>
                                                        <cq-item stxtap="tool('segment')">Segment</cq-item>
                                                        <cq-item stxtap="tool('arrow')">Shape - Arrow</cq-item>
                                                        <cq-item stxtap="tool('check')">Shape - Check</cq-item>
                                                        <cq-item stxtap="tool('xcross')">Shape - Cross</cq-item>
                                                        <cq-item stxtap="tool('focusarrow')">Shape - Focus</cq-item>
                                                        <cq-item stxtap="tool('heart')">Shape - Heart</cq-item>
                                                        <cq-item stxtap="tool('star')">Shape - Star</cq-item>
                                                        <cq-item stxtap="tool('speedarc')">Speed Resistance Arc</cq-item>
                                                        <cq-item stxtap="tool('speedline')">Speed Resistance Line</cq-item>
                                                        <cq-item stxtap="tool('timecycle')">Time Cycle</cq-item>
                                                        <cq-item stxtap="tool('tirone')">Tirone Levels</cq-item>
                                                        <cq-item stxtap="tool('vertical')">Vertical</cq-item>
                                                    </cq-menu-dropdown>
                                                </cq-menu>
                                                <cq-toolbar-settings>
                                                    <cq-fill-color cq-section class="ciq-color" stxbind="getFillColor()" stxtap="pickFillColor()">
                                                        <span></span>
                                                    </cq-fill-color>
                                                    <div>
                                                        <cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getLineColor()" stxtap="pickLineColor()"><span></span></cq-line-color>
                                                        <cq-line-style cq-section>
                                                            <cq-menu class="ciq-select">
                                                                <span cq-line-style class="ciq-line ciq-selected"></span>
                                                                <cq-menu-dropdown class="ciq-line-style-menu">
                                                                    <cq-item stxtap="setLine(1,'solid')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>
                                                                    <cq-item stxtap="setLine(3,'solid')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>
                                                                    <cq-item stxtap="setLine(5,'solid')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>
                                                                    <cq-item stxtap="setLine(1,'dotted')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>
                                                                    <cq-item stxtap="setLine(3,'dotted')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>
                                                                    <cq-item stxtap="setLine(5,'dotted')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>
                                                                    <cq-item stxtap="setLine(1,'dashed')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>
                                                                    <cq-item stxtap="setLine(3,'dashed')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>
                                                                    <cq-item stxtap="setLine(5,'dashed')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>
                                                                    <cq-item stxtap="setLine(0,'none')" class="ciq-none">None</cq-item>
                                                                </cq-menu-dropdown>
                                                            </cq-menu>
                                                        </cq-line-style>
                                                    </div>
                                                    <cq-axis-label cq-section>
                                                        <div class="ciq-heading">Axis Label:</div>
                                                        <span stxtap="toggleAxisLabel()" class="ciq-checkbox ciq-active"><span></span></span>
                                                    </cq-axis-label>
                                                    <cq-annotation cq-section>
                                                        <div stxtap="toggleFontStyle('italic')" class="ciq-btn" style="font-style:italic;">I</div>
                                                        <div stxtap="toggleFontStyle('bold')" class="ciq-btn" style="font-weight:bold;">B</div>
                                                        <cq-menu class="ciq-select">
                                                            <span cq-font-size>12px</span>
                                                            <cq-menu-dropdown class="ciq-font-size">
                                                                <cq-item stxtap="setFontSize('8px')">8</cq-item>
                                                                <cq-item stxtap="setFontSize('10px')">10</cq-item>
                                                                <cq-item stxtap="setFontSize('12px')">12</cq-item>
                                                                <cq-item stxtap="setFontSize('13px')">13</cq-item>
                                                                <cq-item stxtap="setFontSize('14px')">14</cq-item>
                                                                <cq-item stxtap="setFontSize('16px')">16</cq-item>
                                                                <cq-item stxtap="setFontSize('20px')">20</cq-item>
                                                                <cq-item stxtap="setFontSize('28px')">28</cq-item>
                                                                <cq-item stxtap="setFontSize('36px')">36</cq-item>
                                                                <cq-item stxtap="setFontSize('48px')">48</cq-item>
                                                                <cq-item stxtap="setFontSize('64px')">64</cq-item>
                                                            </cq-menu-dropdown>
                                                        </cq-menu>
                                                        <cq-menu class="ciq-select">
                                                            <span cq-font-family>Default</span>
                                                            <cq-menu-dropdown class="ciq-font-family">
                                                                <cq-item stxtap="setFontFamily('Default')">Default</cq-item>
                                                                <cq-item stxtap="setFontFamily('Helvetica')">Helvetica</cq-item>
                                                                <cq-item stxtap="setFontFamily('Courier')">Courier</cq-item>
                                                                <cq-item stxtap="setFontFamily('Garamond')">Garamond</cq-item>
                                                                <cq-item stxtap="setFontFamily('Palatino')">Palatino</cq-item>
                                                                <cq-item stxtap="setFontFamily('Times New Roman')">Times New Roman</cq-item>
                                                            </cq-menu-dropdown>
                                                        </cq-menu>
                                                    </cq-annotation>
                                                    <cq-clickable cq-fib-settings cq-selector="cq-fib-settings-dialog" cq-method="open" cq-section><span class="ciq-btn">Settings</span></cq-clickable>
                                                </cq-toolbar-settings>
                                                <cq-measure><span class="measureUnlit" id="mMeasure"></span></cq-measure>
                                                <cq-undo-section>
                                                    <cq-undo class="ciq-btn">Undo</cq-undo>
                                                    <cq-redo class="ciq-btn">Redo</cq-redo>
                                                </cq-undo-section>
                                            </cq-toolbar>
                                            <div class="chartContainer" id="chartContainer">

                                                <stx-hu-tooltip>
                                                    <stx-hu-tooltip-field field="DT">
                                                        <stx-hu-tooltip-field-name>Date/Time</stx-hu-tooltip-field-name>
                                                        <stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>
                                                    </stx-hu-tooltip-field>
                                                    <stx-hu-tooltip-field field="Close">
                                                        <stx-hu-tooltip-field-name></stx-hu-tooltip-field-name>
                                                        <stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>
                                                    </stx-hu-tooltip-field>
                                                </stx-hu-tooltip>




                                                <cq-chart-title cq-marker cq-browser-tab>
                                                    <cq-symbol></cq-symbol>
                                                    <cq-chart-price>
                                                        <cq-current-price cq-animate style="font-size:18px;
                                                        margin-left:10%;
                                                        width:30px"></cq-current-price>
                                                        <cq-change>
                                                            <div class="ico"></div>
                                                            <cq-todays-change></cq-todays-change>
                                                        </cq-change>
                                                    </cq-chart-price>
                                                </cq-chart-title>

                                                <cq-study-legend cq-marker-label="Studies" cq-overlays-only cq-marker cq-hovershow>
                                                    <template>
                                                        <cq-item>
                                                            <cq-label></cq-label>
                                                            <span class="ciq-edit"></span>
                                                            <div class="ciq-icon ciq-close"></div>
                                                        </cq-item>
                                                    </template>
                                                </cq-study-legend>
                                                <cq-loader></cq-loader>
                                                <cq-hu-static>
                                                    <div>
                                                        <div>Price</div><cq-hu-price></cq-hu-price>
                                                        <div>Open</div><cq-hu-open></cq-hu-open>
                                                        <div>Close</div><cq-hu-close></cq-hu-close>
                                                    </div>
                                                    <div>
                                                        <div>Vol</div>
                                                        <cq-volume-section>
                                                            <cq-hu-volume></cq-hu-volume>
                                                            <cq-volume-rollup></cq-volume-rollup>
                                                        </cq-volume-section>
                                                        <div>High</div><cq-hu-high></cq-hu-high>
                                                        <div>Low</div><cq-hu-low></cq-hu-low>
                                                    </div>
                                                </cq-hu-static>

                                            </div>
                                            <!-- End Chart Container -->
                                        </div>
                                        <!-- End Chart Box -->
                                    </div>


                                    <!-- End Chart Area -->


                                    <!-- Markers/Events -->
                                    <div class="stx-marker-templates" style="display:none">
                                        <!-- Callout Markers -->
                                        <div class="callouts">
                                            <div class="stx-marker callout" style="left:0px; bottom:60px;">
                                                <div class="stx-stem"></div>
                                                <div class="stx-marker-content">
                                                    <h4>This is a callout marker</h4>
                                                    <div class="stx-marker-expand">
                                                        <p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="stx-marker callout" style="left:200px; bottom:60px;">
                                                <div class="stx-stem"></div>
                                                <div class="stx-marker-content">
                                                    <h4>This is a callout marker</h4>
                                                    <div class="stx-marker-expand">
                                                        <p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="stx-marker callout" style="left:400px; bottom:60px;">
                                                <div class="stx-stem"></div>
                                                <div class="stx-marker-content">
                                                    <h4>This is a callout marker</h4>
                                                    <div class="stx-marker-expand">
                                                        <p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Abstract Markers. You can remove this unless you actually need a helicopter. Seriously though, markers can be anything you want them to be! -->
                                        <div class="abstract">
                                            <div class="stx-marker abstract">
                                                <div class="stx-marker-content">

                                                    <div class="sample">
                                                        <div id="stage">
                                                            <div id="helicopter">
                                                                <div id="propeller" style="height: 160px;">
                                                                    <div id="spinner" style="-webkit-transform-origin: 40px 0 0; transform-origin: 40px 0 0;">
                                                                        <div style="-webkit-transform: rotateY(0deg) translateX(40px); transform: rotateY(0deg) translateX(40px);"></div>
                                                                        <div style="-webkit-transform: rotateY(-90deg) translateX(40px); transform: rotateY(-90deg) translateX(40px);"></div>
                                                                        <div style="-webkit-transform: rotateY(-180deg) translateX(40px); transform: rotateY(-180deg) translateX(40px);"></div>
                                                                        <div style="-webkit-transform: rotateY(-270deg) translateX(40px); transform: rotateY(-270deg) translateX(40px);"></div>
                                                                    </div>
                                                                </div>
                                                                <div id="heli-body"></div>
                                                            </div>
                                                        </div>
                                                        <div class="text">This is an example of a complex marker which can contain html, video, images, css, and animations.</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End Marker/Events -->

                                    <!-- Attribution component -->
                                    <cq-attribution>
                                        <template>
                                            <cq-attrib-container>
                                                <cq-attrib-source></cq-attrib-source>&nbsp;
                                                <cq-attrib-quote-type></cq-attrib-quote-type>
                                            </cq-attrib-container>
                                        </template>
                                    </cq-attribution>


                                    <cq-hu-dynamic>
                                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 215 140" enable-background="new 0 0 215 140" xml:space="preserve">
		<defs>
            <filter id="ciq-hu-shadow" height="130%">
                <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
                <feOffset dx="0" dy="1" result="offsetblur"/>
                <feComponentTransfer>
                    <feFuncA type="linear" slope="0.2"/>
                </feComponentTransfer>
                <feMerge>
                    <feMergeNode/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
        </defs>
                                            <polygon class="ciq-hu-bg" fill="#2A51D0" points="198.4,124.4 1,124.4 1,1 214,1 214,137.8" filter="url(#ciq-hu-shadow)"/>
                                            <path class="ciq-hu-stroke" fill="#398DFF" d="M213,2v133.6l-13.7-11.8l-0.6-0.5H198H2V2H213 M215,0H0v125.4h198l17,14.6V0L215,0z"/>
	</svg>
                                        <div>
                                            <cq-hu-col1>
                                                <cq-hu-date></cq-hu-date>
                                                <cq-hu-price></cq-hu-price>
                                                <cq-volume-grouping>
                                                    <div>Volume</div>
                                                    <div><cq-volume-visual></cq-volume-visual></div>
                                                    <div><cq-hu-volume></cq-hu-volume><cq-volume-rollup></cq-volume-rollup></div>
                                                </cq-volume-grouping>
                                            </cq-hu-col1>
                                            <cq-hu-col2>
                                                <div>Open</div><cq-hu-open></cq-hu-open>
                                                <div>Close</div><cq-hu-close></cq-hu-close>
                                                <div>High</div><cq-hu-high></cq-hu-high>
                                                <div>Low</div><cq-hu-low></cq-hu-low>
                                            </cq-hu-col2>
                                        </div>

                                    </cq-hu-dynamic>



                                    <!-- End Footer -->

                                    <cq-dialog>
                                        <cq-view-dialog>
                                            <h4>Save View</h4>
                                            <div stxtap="close()" class="ciq-icon ciq-close"></div>
                                            <div style="text-align:center;margin-top:10px;">
                                                <i>Enter name of view:</i>
                                                <p>
                                                    <input spellcheck="false" autocapitalize="off" autocorrect="off" autocomplete="off" maxlength="40" placeholder="Name"><br>
                                                </p>
                                                <span class="ciq-btn" stxtap="save()">Save</span>
                                            </div>
                                        </cq-view-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-aggregation-dialog>
                                            <h4 class="title"></h4>
                                            <div stxtap="hide()" class="ciq-icon ciq-close"></div>
                                            <div style="text-align:center;margin-top:10px;">
                                                <div class="ciqkagi">
                                                    <i>Enter value and hit "Enter"</i>
                                                    <p>
                                                        <input name="kagi" stxtap="Layout.setAggregationEdit('kagi')">
                                                </div>
                                                <div class="ciqrenko">
                                                    <i>Enter value and hit "Enter"</i>
                                                    <p>
                                                        <input name="renko" stxtap="Layout.setAggregationEdit('renko')">
                                                </div>
                                                <div class="ciqlinebreak">
                                                    <i>Enter value and hit "Enter"</i>
                                                    <p>
                                                        <input name="priceLines" stxtap="Layout.setAggregationEdit('priceLines')">
                                                </div>
                                                <div class="ciqrangebars">
                                                    <i>Enter value and hit "Enter"</i>
                                                    <p>
                                                        <input name="range" stxtap="Layout.setAggregationEdit('range')">
                                                </div>
                                                <div class="ciqpandf">
                                                    <i>Enter box size and hit "Enter"</i>
                                                    <p>
                                                        <input name="box" stxtap="Layout.setAggregationEdit('pandf.box')">
                                                    <p>
                                                        <i>Enter reversal and hit "Enter"</i>
                                                    <p>
                                                        <input name="reversal" stxtap="Layout.setAggregationEdit('pandf.reversal')">
                                                </div>
                                                <p>or
                                                <p>
                                                <div class="ciq-btn" stxtap="Layout.setAggregationEdit('auto')">Auto Select</div>
                                            </div>
                                        </cq-aggregation-dialog>
                                    </cq-dialog>


                                    <cq-dialog>
                                        <cq-study-context>
                                            <div stxtap="StudyEdit.edit()">Edit Settings...</div>
                                            <div stxtap="StudyEdit.remove()">Delete Study</div>
                                        </cq-study-context>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-fib-settings-dialog>
                                            <h4 class="title">Settings</h4>
                                            <cq-scroll cq-no-maximize>
                                                <cq-fibonacci-settings>
                                                    <template cq-fibonacci-setting>
                                                        <cq-fibonacci-setting>
                                                            <div class="ciq-heading"></div>
                                                            <div class="stx-data">
                                                                <input type="checkbox">
                                                            </div>
                                                        </cq-fibonacci-setting>
                                                    </template>
                                                </cq-fibonacci-settings>
                                            </cq-scroll>
                                            <div class="ciq-dialog-cntrls">
                                                <div class="ciq-btn" stxtap="close()">Done</div>
                                            </div>
                                        </cq-fib-settings-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-study-dialog>
                                            <h4 class="title">Study</h4>
                                            <cq-scroll cq-no-maximize>
                                                <cq-study-inputs>
                                                    <template cq-study-input>
                                                        <cq-study-input>
                                                            <div class="ciq-heading"></div>
                                                            <div class="stx-data">
                                                                <template cq-menu>
                                                                    <cq-menu class="ciq-select">
                                                                        <cq-selected></cq-selected>
                                                                        <cq-menu-dropdown cq-lift></cq-menu-dropdown>
                                                                    </cq-menu>
                                                                </template>
                                                            </div>
                                                        </cq-study-input>
                                                    </template>
                                                </cq-study-inputs>
                                                <hr>
                                                <cq-study-outputs>
                                                    <template cq-study-output>
                                                        <cq-study-output>
                                                            <div class="ciq-heading"></div>
                                                            <cq-swatch cq-overrides="auto"></cq-swatch>
                                                        </cq-study-output>
                                                    </template>
                                                </cq-study-outputs>
                                                <hr>
                                                <cq-study-parameters>
                                                    <template cq-study-parameters>
                                                        <cq-study-parameter>
                                                            <div class="ciq-heading"></div>
                                                            <div class="stx-data"><cq-swatch cq-overrides="auto"></cq-swatch></div>
                                                        </cq-study-parameter>
                                                    </template>
                                                </cq-study-parameters>
                                            </cq-scroll>
                                            <div class="ciq-dialog-cntrls">
                                                <div class="ciq-btn" stxtap="close()">Done</div>
                                            </div>
                                        </cq-study-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-theme-dialog>
                                            <h4 class="title">Create Custom Theme</h4>
                                            <cq-close></cq-close>
                                            <cq-scroll cq-no-maximize>
                                                <cq-section>
                                                    <cq-placeholder>Candle Color
                                                        <cq-theme-piece cq-piece="cu"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>
                                                        <cq-theme-piece cq-piece="cd"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-placeholder>Candle Wick
                                                        <cq-theme-piece cq-piece="wu"><cq-swatch></cq-swatch></cq-theme-piece>
                                                        <cq-theme-piece cq-piece="wd"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-placeholder>Candle Border
                                                        <cq-theme-piece cq-piece="bu"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>
                                                        <cq-theme-piece cq-piece="bd"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-separator></cq-separator>
                                                    <cq-placeholder>Line/Bar Chart
                                                        <cq-theme-piece cq-piece="lc"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-separator></cq-separator>
                                                    <cq-placeholder>Mountain Color
                                                        <cq-theme-piece cq-piece="mc"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                </cq-section>
                                                <cq-section>
                                                    <cq-placeholder>Background
                                                        <cq-theme-piece cq-piece="bg"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-placeholder>Grid Lines
                                                        <cq-theme-piece cq-piece="gl"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-placeholder>Date Dividers
                                                        <cq-theme-piece cq-piece="dd"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                    <cq-placeholder>Axis Text<cq-theme-piece cq-piece="at"><cq-swatch></cq-swatch></cq-theme-piece>
                                                    </cq-placeholder>
                                                </cq-section>
                                                <cq-action>
                                                    <input><div stxtap="save()" class="ciq-btn">Save</div>
                                                </cq-action>
                                            </cq-scroll>
                                        </cq-theme-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-timezone-dialog>
                                            <h4 class="title">Choose Timezone</h4>
                                            <cq-close></cq-close>

                                            <p>To set your timezone use the location button below, or scroll through the following list...</p>
                                            <p id="currentUserTimeZone"></p>
                                            <div class="detect">
                                                <div class="ciq-btn" stxtap="removeTimezone()">Use My Current Location</div>
                                            </div>
                                            <div id="timezoneDialogWrapper" style="max-height:360px; overflow: auto;">
                                                <ul>
                                                    <li id="timezoneTemplate" style="display:none;cursor:pointer;"></li>
                                                </ul>
                                            </div>
                                            <div class="instruct">(Scroll for more options)</div>
                                        </cq-timezone-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-language-dialog>
                                            <h4 class="title">Choose language</h4>
                                            <cq-close></cq-close>
                                            <cq-languages>
                                                <template><div><cq-flag></cq-flag><cq-language-name></cq-language-name></div></template>
                                            </cq-languages>
                                        </cq-language-dialog>
                                    </cq-dialog>

                                    <cq-dialog>
                                        <cq-share-dialog>
                                            <div>
                                                <h4 class="title">Share Your Chart</h4>
                                                <cq-separator></cq-separator>
                                                <cq-share-create class="ciq-btn" stxtap="share()">Create Image</cq-share-create>
                                                <cq-share-generating style="display:none">Generating Image</cq-share-generating>
                                                <cq-share-uploading style="display:none">Uploading Image</cq-share-uploading>

                                                <div class="share-link-div"></div>

                                                <cq-separator></cq-separator>
                                                <div class="ciq-dialog-cntrls">
                                                    <div stxtap="close()" class="ciq-btn">Done</div>
                                                </div>

                                            </div>
                                        </cq-share-dialog>
                                    </cq-dialog>

                                    <cq-side-panel></cq-side-panel>
                                </cq-context>

                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    {#</div>#}
    {#</div>#}
    {% include 'default/social_tab.html.twig' %}
{% endblock %}


{% block javascripts %}
    <script src="{{ asset('js/Charts/Chart_crypto.js') }}"></script>
    <script src="https://tradingcompare.com/ChartIQ/js/chartiq.js"></script>

    <script src="https://www.interactivecrypto.com/chart_iq_web/js/translations.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/componentUI.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/components.js"></script>
    {#<script src="http://tradingcompare.com/ChartIQ/js/components.js"></script>#}
    {#<script src="http://tradingcompare.com/ChartIQ/js/translations.js"></script>#}
    {#<script src="http://tradingcompare.com/ChartIQ/js/componentUI.js"></script>#}

    <script src="https://tradingcompare.com/ChartIQ/js/quoteFeedSimulator.js"></script>
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/iscroll.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/plugin.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/addOns.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/object-observe.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/webcomponents-lite.min.js"></script>#}
    {#<script src='https://tradingcompare.com/ChartIQ/js/thirdparty/perfect-scrollbar.jquery.js'></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/html2canvas.js"></script>#}
    <!-- <script src="plugins/tradingcentral/components.js"></script> -->


    <!--<script src="js/thirdparty/splines.js"></script>-->
    {#<script src=" https://www.interactivecrypto.com/chart_iq_web/js/quoteFeedSimulator.js"></script>#}
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/iscroll.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/plugin.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/addOns.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/object-observe.js"></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/webcomponents-lite.min.js"></script>
    <script src='https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/perfect-scrollbar.jquery.js'></script>
    <script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/html2canvas.js"></script>
    <!-- <script src="plugins/tradingcentral/components.js"></script> -->


    <script src="https://www.interactivecrypto.com/script/CCCAGG.js"></script>
    {#<script src="{{ asset('js/chart-live-iq.js') }}"></script>#}
    <script>
        function loadCSS(hf) {
            var ms = document.createElement("link");
            ms.rel = "stylesheet";
            ms.href = hf;
            document.getElementsByTagName("head")[0].appendChild(ms);
        }
        loadCSS('{{asset("css/footer.css")}}');
        loadCSS('{{ asset("font/font_avenir.css")}}');
        loadCSS('{{ asset("css/charts.css")}}');
        loadCSS("https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i");
        loadCSS("https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css");

        //User Styles: Main
        //User Styles: Media
    </script>

    <!-- Load CSS compiled without Bootstrap & Header styles (after release) -->
    <script>var ms = document.createElement("link");
        ms.rel = "stylesheet";
        ms.href = '{{ asset("css/compiled.min.css")}}';
        document.getElementsByTagName("head")[0].appendChild(ms);
    </script>

    <!-- Load Scripts -->
    <script>var scr = {
            "scripts": [
                {"src": '{{ asset("js/jquery-3.3.1.min.js")}}', "async": false},
                {"src": '{{ asset("js/general.js")}}', "async": false},
                {"src": "https://use.fontawesome.com/releases/v5.0.10/js/all.js", "async": false},

            ]
        };
        !function (t, n, r) {
            "use strict";
            var c = function (t) {
                if ("[object Array]" !== Object.prototype.toString.call(t)) return !1;
                for (var r = 0; r < t.length; r++) {
                    var c = n.createElement("script"), e = t[r];
                    c.src = e.src, c.async = e.async, n.body.appendChild(c)
                }
                return !0
            };
            t.addEventListener ? t.addEventListener("load", function () {
                c(r.scripts);
            }, !1) : t.attachEvent ? t.attachEvent("onload", function () {
                c(r.scripts)
            }) : t.onload = function () {
                c(r.scripts)
            }
        }(window, document, scr);
    </script>
    <script>
        // function clickme()
        // {
        //     clickme2()
        // }
        (function($) {
            function checkWidth() {
                if ($(window).width() > 700) {
                    $('body').removeClass('break-md break-sm').addClass('break-lg');
                    $('.icon-toggles').removeClass('sidenav active').addClass('ciq-toggles');
                    stxx.layout.sidenav = 'sidenavOff';
                    $('#symbol').attr("placeholder", "Enter Symbol");
                    return;
                }
                if ($(window).width() <= 700 && $(window).width() > 584) {
                    $('body').removeClass('break-lg break-sm').addClass('break-md');
                    $('.icon-toggles').removeClass('sidenav active').addClass('ciq-toggles');
                    stxx.layout.sidenav = 'sidenavOff';
                    $('#symbol').attr("placeholder", "Symbol");
                    return;
                }
                if ($(window).width() <= 584) {
                    $('body').removeClass('break-md break-lg').addClass('break-sm');
                    $('.icon-toggles').removeClass('ciq-toggles').addClass('sidenav');
                    $('#symbol').attr("placeholder", "");
                }
            }

            function setHeight() {
                var windowHeight=$(window).height();
                var ciqHeight = $('.ciq-chart').height();

                if ($('body').hasClass("toolbar-on")) {
                    $('#chartContainer').height(ciqHeight - 45);
                } else {
                    $('#chartContainer').height(ciqHeight);
                }
                // This little snippet will ensure that dialog boxes are never larger than the screen height
                $('#maxHeightCSS').remove();
                $('head').append('<style id="maxHeightCSS">cq-dialog { max-height: ' +  windowHeight + 'px }</style>');
            }

            $(".stx-markers cq-item.circle").stxtap(function(){
                $(".stx-markers .ciq-radio").removeClass("ciq-active");
                $(".stx-markers cq-item.circle .ciq-radio").addClass("ciq-active");
                showMarkers("circle");
            });
            $(".stx-markers cq-item.square").stxtap(function(){
                $(".stx-markers .ciq-radio").removeClass("ciq-active");
                $(".stx-markers cq-item.square .ciq-radio").addClass("ciq-active");
                showMarkers("square");
            });
            $(".stx-markers cq-item.callout").stxtap(function(){
                $(".stx-markers .ciq-radio").removeClass("ciq-active");
                $(".stx-markers cq-item.callout .ciq-radio").addClass("ciq-active");
                showMarkers("callout");
            });
            $(".stx-markers cq-item.abstract").stxtap(function(){
                $(".stx-markers .ciq-radio").removeClass("ciq-active");
                $(".stx-markers cq-item.abstract .ciq-radio").addClass("ciq-active");
                hideMarkers();
                var helicopter=$(".stx-marker.abstract").clone();
                helicopter.css({"z-index":"30","left":(0.4*stxx.chart.width).toString()+"px"});
                var marker=new CIQ.Marker({
                    stx: stxx,
                    xPositioner:"none",
                    yPositioner:"above_candle",
                    label: "helicopter",
                    permanent: true,
                    chartContainer: true,
                    node: helicopter[0]
                });
                stxx.draw(); // call draw() when you're done adding markers. They will be positioned in batch.
            });

            $(".stx-markers cq-item.none").stxtap(function(){
                $(".stx-markers .ciq-radio").removeClass("ciq-active");
                $(".stx-markers cq-item.none .ciq-radio").addClass("ciq-active");
                hideMarkers();
            });

            function httpGet(theUrl) {
                var xmlHttp = new XMLHttpRequest();
                xmlHttp.open("GET", theUrl, false); // false for synchronous request
                xmlHttp.send(null);
                // console.log("1adress", theUrl);
                return xmlHttp.responseText;
            }

            var socket = io.connect('https://streamer.cryptocompare.com/');
            var stxx=new CIQ.ChartEngine({container:$("#chartContainer")[0],layout:{"interval":60} ,preferences:{labels:false, currentPriceLine:true, whitespace:50}});
            stxx.layout.crosshair=true;
            // Attach an automated quote feed to the chart to handle initial load, pagination and updates at preset intervals.
            stxx.attachQuoteFeed(quotefeedSimulator,{refreshInterval:1,bufferSize:200});

            // function clickme2()
            // {
            //     stxx.newChart(XRP/USD/Bitstamp);
            // }


            // Optionally set a market factory to the chart to make it market hours aware. Otherwise it will operate in 24x7 mode.
            // This is required for the simulator, or if you intend to also enable Extended hours trading zones.
            //stxx.setMarketFactory(CIQ.Market.Symbology.factory);
            // Extended hours trading zones -- Make sure this is instantiated before calling startUI as a timing issue with may occur
            new CIQ.ExtendedHours({stx:stxx, filter:true});

            // Floating tooltip on mousehover
            // comment in the following line if you want a tooltip to display when the crosshair toggle is turned on
            // This should be used as an *alternative* to the HeadsUP (HUD).
            new CIQ.Tooltip({stx:stxx, ohl:true, volume:true, series:true, studies:true});

            // Inactivity timer
            new CIQ.InactivityTimer({stx:stxx, minutes:30});
            // Animation (using tension requires splines.js)
            //new CIQ.Animation(stxx, {tension:0.3});
            //TODO, encapsulate these in a helper object
            function restoreLayout(stx, cb){
                // var datum=CIQ.localStorage.getItem("myChartLayout");
                // if(datum===null) return;
                // function closure(){
                // 	restoreDrawings(stx, stx.chart.symbol);
                // 	if(cb) cb();
                // }
                // stx.importLayout(JSON.parse(datum), {managePeriodicity:true, cb: closure});
            }

            function saveLayout(obj){
                // var s=JSON.stringify(obj.stx.exportLayout(true));
                // CIQ.localStorageSetItem("myChartLayout", s);
            }

            function restoreDrawings(stx, symbol){
                var memory=CIQ.localStorage.getItem(symbol);
                if(memory!==null){
                    var parsed=JSON.parse(memory);
                    if(parsed){
                        stx.importDrawings(parsed);
                        stx.draw();
                    }
                }
            }

            function saveDrawings(obj){
                var tmp=obj.stx.exportDrawings();
                if(tmp.length===0){
                    CIQ.localStorage.removeItem(obj.symbol);
                }else{
                    CIQ.localStorageSetItem(obj.symbol, JSON.stringify(tmp));
                }
            }

            function restorePreferences(){
                var pref=CIQ.localStorage.getItem("myChartPreferences");
                if (pref) stxx.importPreferences(JSON.parse(pref));
            }

            function savePreferences(obj){
                CIQ.localStorageSetItem("myChartPreferences",JSON.stringify(stxx.exportPreferences()));
            }

            function retoggleEvents(obj){
                var active=$(".stx-markers .ciq-radio.ciq-active");
                active.parent().triggerHandler("stxtap");
            }

            //****************comment out if do not want to remember data
            // stxx.callbacks.layout=saveLayout;
            // stxx.callbacks.symbolChange=saveLayout;
            stxx.callbacks.drawing=saveDrawings;
            stxx.callbacks.newChart=retoggleEvents;
            stxx.callbacks.preferences=savePreferences;

            var UIContext;

            function startUI(){
                UIContext=new CIQ.UI.Context(stxx, $("cq-context,[cq-context]"));
                var UILayout=new CIQ.UI.Layout(UIContext);
                var UIHeadsUpDynamic=new CIQ.UI.HeadsUp($("cq-hu-dynamic"), UIContext, {followMouse:true, autoStart: false});
                var UIHeadsUpStatic=new CIQ.UI.HeadsUp($("cq-hu-static"), UIContext, {autoStart: true});

                //fill_select_curr()

                UIContext.changeSymbol=function(data){
                    var stx=this.stx;
                    if(this.loader) this.loader.show();
                    data.symbol=data.symbol.toUpperCase(); // set a pretty display version

                    if(stxx.chart.symbol != null)
                    {
                    }
                    // reset comparisons - remove this loop to transfer from symbol to symbol.
                    for(var field in stx.chart.series) {
                        // keep studies
                        if (stxx.chart.series[field].parameters.bucket != "study" ) stx.removeSeries(field);
                    }

                    var self=this;
                    stx.newChart(data, null, null, function(err){
                        if(err){
                            //TODO, symbol not found error
                            if(self.loader) self.loader.hide();
                            return;
                        }
                        // The user has changed the symbol, populate $("cq-chart-title")[0].previousClose with yesterday's closing price
                        if(stx.tfc) stx.tfc.changeSymbol();   // Update trade from chart
                        if(self.loader) self.loader.hide();
                        restoreDrawings(stx, stx.chart.symbol);
                        console.log("++++++++++++++++++++++++++",old_curr,data.symbol)
                        if(old_curr != data.symbol && stxx.chart.symbol!= null)
                        {fillExchange()}// load an initial symbol
                        //setWS()
                    });
                    console.log("OUTTTTT",data.symbol)
                    //fillExchange()
                };

                UIContext.setLookupDriver(new CIQ.UI.Lookup.Driver.ChartIQ());
                UIContext.UISymbolLookup=$(".ciq-search cq-lookup")[0];
                var KeystrokeHub=new CIQ.UI.KeystrokeHub($("body"), UIContext, {cb:CIQ.UI.KeystrokeHub.defaultHotKeys});
                var UIStudyEdit=new CIQ.UI.StudyEdit(null, UIContext);
                var UIStorage=new CIQ.NameValueStore();

                var UIThemes=$("cq-themes");
                UIThemes[0].initialize({
                    builtInThemes: {"ciq-day":"Day","ciq-night":"Night"},
                    defaultTheme: "ciq-night",
                    nameValueStore: UIStorage
                });

                var sidePanel=$("cq-side-panel")[0];
                if(sidePanel) sidePanel.registerCallback(resizeScreen);

                $(".ciq-sidenav")[0].registerCallback(function (value) {
                    var stx=this.context.stx, rightPx;
                    var sidePanelWidth = sidePanel?sidePanel.nonAnimatedWidth():0;
                    if (value === 'sidenavOn') {
                        var chartHolderHeight = $('.stx-holder').height();
                        $('.sidenav').height(chartHolderHeight);
                        this.node.addClass("active");
                        stx.layout.sidenav = "sidenavOn";
                        $('.sidenav').addClass("active");
                        rightPx=this.node.width()+sidePanelWidth;
                    } else if (value === 'sidenavOff') {
                        rightPx=sidePanelWidth;
                        $('.sidenav').removeClass("active");
                        this.node.removeClass("active");
                        stx.layout.sidenav = "sidenavOff";
                    }
                    $("cq-side-panel").css("right", rightPx - sidePanelWidth +"px");
                    $('.ciq-chart-area').css({'right': rightPx +'px'});
                    $('cq-tradingcentral').css({'margin-right': rightPx + 15 + 'px'});
                    if(stx.slider) stx.slider.display(stx.layout.rangeSlider);
                });

                $(".ciq-HU")[0].registerCallback(function(value){
                    if(value==="static"){
                        UIHeadsUpDynamic.end();
                        UIHeadsUpStatic.begin();
                        this.node.addClass("active");
                    }else if(value==="dynamic"){
                        if(CIQ.isMobile){
                            // The dynamic headsUp doesn't make any sense on mobile devices so we skip that toggle
                            // by manually setting the toggle to "static"
                            this.set("static");
                            UIHeadsUpDynamic.end();
                            UIHeadsUpStatic.begin();
                            this.node.addClass("active");
                        }else{
                            UIHeadsUpStatic.end();
                            UIHeadsUpDynamic.begin();
                            this.node.addClass("active");
                        }
                    }else{
                        UIHeadsUpStatic.end();
                        UIHeadsUpDynamic.end();
                        this.node.removeClass("active");
                    }
                });
                $(".ciq-draw")[0].registerCallback(function(value){
                    if(value){
                        this.node.addClass("active");
                        $("body").addClass("toolbar-on");
                    }else{
                        this.node.removeClass("active");
                        $("body").removeClass("toolbar-on");
                    }
                    setHeight();
                    var stx=this.context.stx;
                    stx.resizeChart();

                    // a little code here to remember what the previous drawing tool was
                    // and to re-enable it when the toolbar is reopened
                    if(value){
                        stx.changeVectorType(this.priorVectorType);
                    }else{
                        this.priorVectorType=stx.currentVectorParameters.vectorType;
                        stx.changeVectorType("");
                    }
                });

                if( $('.stx-trade')[0] ) {
                    $('.stx-trade')[0].registerCallback(function(value) {
                        var sidePanel=$("cq-side-panel")[0];
                        if(value){
                            sidePanel.open({selector:".stx-trade-panel",className:"active"});
                            this.node.addClass("active");
                            $(".stx-trade-panel").removeClass("closed");
                            stxx.layout.sidenav = 'sidenavOff'; // in break-sm hide sidenav when turning on tfc side panel
                        }else{
                            sidePanel.close();
                            this.node.removeClass("active");
                            $(".stx-trade-panel").addClass("closed");
                        }
                    });
                }

                if( $('.stx-tradingcentral')[0] ) {
                    $('.stx-tradingcentral')[0].registerCallback(function(value) {
                        var tcElement = $('cq-tradingcentral')[0];
                        if (value) {
                            tcElement.removeAttribute('disabled');
                        } else {
                            tcElement.setAttribute('disabled', 'disabled');
                        }
                    });
                }

                $("cq-redo")[0].pairUp($("cq-undo"));

                var params={
                    excludedStudies: {
                        "Directional": true,
                        "Gopala":true,
                        "vchart":true
                    },
                    alwaysDisplayDialog: {"ma":true},
                    /*dialogBeforeAddingStudy: {"rsi": true} // here's how to always show a dialog before adding the study*/
                };
                var UIStudyMenu=new CIQ.UI.StudyMenu($("*[cq-studies]"), UIContext, params);
                UIStudyMenu.renderMenu();

                $("cq-views").each(function(){
                    this.initialize();
                });

                if(UIContext.loader) UIContext.loader.show();
                restorePreferences();
                restoreLayout(stxx, function(){
                    if(UIContext.loader) UIContext.loader.hide();
                });

                //INITIAL SYMBOL
                if(!stxx.chart.symbol){
                    //console.log("if null stxx.chart.symbol",stxx.chart.symbol)
                    initialSymbol()
                }
                CIQ.UI.begin();
                //CIQ.I18N.setLanguage(stxx, "zh");	// Optionally set a language for the UI, after it has been initialized, and translate.
            }

            function hideMarkers(){
                CIQ.Marker.removeByLabel(stxx, "circle");
                CIQ.Marker.removeByLabel(stxx, "square");
                CIQ.Marker.removeByLabel(stxx, "callout");
                CIQ.Marker.removeByLabel(stxx, "helicopter");
            }

            function showMarkers(standardType){
                // Remove any existing markers
                hideMarkers();
                var l=stxx.masterData.length;
                // An example of a data array to drive the marker creation
                var data=[
                    {x:stxx.masterData[l-5].DT, type:standardType, category:"news", headline:"This is a Marker for a News Item"},
                    {x:stxx.masterData[l-15].DT, type:standardType, category:"earningsUp", headline:"This is a Marker for Earnings (+)"},
                    {x:stxx.masterData[l-25].DT, type:standardType, category:"earningsDown", headline:"This is a Marker for Earnings (-)"},
                    {x:stxx.masterData[l-35].DT, type:standardType, category:"dividend", headline:"This is a Marker for Dividends"},
                    {x:stxx.masterData[l-45].DT, type:standardType, category:"filing", headline:"This is a Marker for a Filing"},
                    {x:stxx.masterData[l-55].DT, type:standardType, category:"split", headline:"This is a Marker for a Split"}
                ];
                var story="Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.";

                // Loop through the data and create markers
                for(var i=0;i<data.length;i++){
                    var datum=data[i];
                    datum.story=story;
                    var params={
                        stx:stxx,
                        label:standardType,
                        xPositioner:"date",
                        x: datum.x,
                        //chartContainer: true, // Allow markers to float out of chart. Set css .stx-marker{ z-index:20}
                        node: new CIQ.Marker.Simple(datum)
                    };
                    var marker=new CIQ.Marker(params);
                }
                stxx.draw();
            }

            function resizeScreen(){
                if(!UIContext) return;
                checkWidth();
                setHeight();
                var sidePanel=$("cq-side-panel")[0];
                if(sidePanel){
                    $('.ciq-chart-area').css({'right': sidePanel.nonAnimatedWidth() +'px'});
                    $('cq-tradingcentral').css({'margin-right': sidePanel.nonAnimatedWidth() + 15 + 'px'});
                }
                stxx.resizeChart();
                if(stxx.slider) stxx.slider.display(stxx.layout.rangeSlider);
            }

            //Range Slider; needs to be created before startUI() is called for custom themes to apply
            new CIQ.RangeSlider({stx:stxx});

            var webComponentsSupported = ('registerElement' in document &&
                'import' in document.createElement('link') &&
                'content' in document.createElement('template'));

            if(webComponentsSupported){
                startUI();
                resizeScreen();
            }else{
                window.addEventListener('WebComponentsReady', function(e) {
                    startUI();
                    resizeScreen();
                });
            }

            if(typeof Promise === 'undefined') CIQ.loadScript('js/thirdparty/promise.min.js'); // Necessary for IE and MSFT Edge if you are using sharing (because html2canvas uses promises)
            $(window).resize(resizeScreen);
            var currentPrice = {};

            //	 document.title =   title


            /***************************************************************************************************************/
            /***************************************************************************************************************/
            /***************************************************************************************************************/
            /***************************************************************************************************************/
            /***************************************************************************************************************/
            /***************************************************************************************************************/


            // var previous_price
            // function fill_price ()
            // {
            {#var from = "{{ from }}"#}
            {#var to = "{{ to }}"#}
            {#var exchange = get_default_exchange(from+"/"+to)#}
            {#console.log("fill****************",from, to, exchange)#}

            // var url = 'https://crypto.tradingcompare.com/AllPairs/' + from + "_" + to
            // jQuery.getJSON(url, function (data) {
            //     console.log('froma api******',data)
            //     for(key in data){
            // if (data[key].change24 > 0) {
            // jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data[key].change24) + "%").addClass('positive').css({ 'font-size':15 });
            // // jQuery("cq-todays-change").addClass('positive');
            // } else {
            // jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data[key].change24) + "%").addClass('negative').css({ 'font-size':15 });
            // // jQuery("cq-todays-change").addClass('negative');
            // }
            // jQuery("cq-current-price").text(data[key].price);
            // }
            // })


            /***************************************************************************************************************/
            /***************************************************************************************************************/

            // console.log("***********************", stxx.chart.symbol)
            // var curr =  stxx.chart.symbol.split("/")[0]
            // var Symbol = stxx.chart.symbol.split("/")[1]
            // var Exchange =  get_default_exchange(stxx.chart.symbol)
            // //console.log("EXCHANGE", Exchange.length)
            // var exchange_var
            // if(typeof Exchange != 'undefined' && Exchange.length !==0 && Exchange != 'AGG')
            // {
            //     exchange_var = "&e=" + Exchange
            // }
            // else{
            //     exchange_var = ""
            // }
            // if(typeof Symbol == "undefined")
            // {
            //     Symbol = "USD"
            // }
            // var url = "https://min-api.cryptocompare.com/data/pricemultifull?fsyms=" + curr + "&tsyms=" + Symbol + exchange_var
            // //console.log("****fill price***********url",url)
            //
            // jQuery.getJSON(url, function (data) {
            //     console.log(data.RAW[curr].USD.CHANGEPCT24HOUR)
            //     console.log(data)
            //     var displaySymbol =data.DISPLAY[curr][Symbol].TOSYMBOL
            //
            //     var val = data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2);
            //     // var change_div = jQuery("cq-todays-change")
            //     // console.log("CHANGE DIV",change_div)
            //     if (val > 0) {
            //         ///change_div.style.color = "green";
            //         jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //
            //
            //     } else {
            //         //change_div.style.color = "red";
            //         jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //
            //     }
            //     //console.log(url)
            //     console.log(Intl.NumberFormat("de-DE").format(data.RAW[curr][Symbol].PRICE.toFixed(5)))
            //     var x = document.getElementById("curr_img");
            //     x.className = "curr_img"
            //     x.src = img_src;
            //     var title
            //     jQuery("cq-todays-change").css({ 'font-size':15 });
            //     if( (data.RAW[curr][Symbol].PRICE) < 1 )
            //     {
            //         console.log('+++++++++++++++++++++++++',(data.RAW[curr][Symbol].PRICE))
            //         jQuery("cq-current-price").text( (data.RAW[curr][Symbol].PRICE));
            //         //title  =  curr + "/" + Symbol + "\u200b  "+ "\u200b  " + "\u200b  " + (data.RAW[curr][Symbol].PRICE) + " \u200b ";
            //     }
            //     else
            //     {
            //         console.log("hhhhh",(data.RAW[curr][Symbol].PRICE).toLocaleString())
            //         jQuery("cq-current-price").text( (data.RAW[curr][Symbol].PRICE).toLocaleString());
            //         //title  =  curr + "/" + Symbol + "\u200b  "+ "\u200b  " + "\u200b  " + (data.RAW[curr][Symbol].PRICE).toLocaleString() + " \u200b ";
            //     }
            //     //document.title = title
            // });
            // }

            // function update_chart_price ()
            // {
            //     console.log("***********************", stxx.chart.symbol)
            //     var curr =  stxx.chart.symbol.split("/")[0]
            //     var Symbol = stxx.chart.symbol.split("/")[1]
            //     var Exchange = jQuery( "#selectExchange option:selected" ).text()
            //     //console.log("EXCHANGE", Exchange.length)
            //
            //     var exchange_var
            //     if(typeof Exchange != 'undefined' && Exchange.length !==0)
            //     {
            //         exchange_var = "&e=" + Exchange
            //     }
            //     else{
            //         exchange_var = ""
            //     }
            //     if(typeof Symbol == "undefined")
            //     {
            //         Symbol = "USD"
            //     }
            //     var url = "https://min-api.cryptocompare.com/data/pricemultifull?fsyms=" + curr + "&tsyms=" + Symbol + exchange_var
            //     // console.log("***************url",url)
            //
            //     jQuery.getJSON(url, function (data) {
            //         //                console.log(data.RAW[curr].USD.CHANGEPCT24HOUR)
            //         //console.log("data.DISPLAY[curr][Symbol].TOSYMBOL",data)
            //         var displaySymbol =data.DISPLAY[curr][Symbol].TOSYMBOL
            //
            //         var val = data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2);
            //         var change_div = jQuery("cq-todays-change")
            //         // console.log("CHANGE DIV",change_div)
            //         if (val > 0) {
            //             ///change_div.style.color = "green";
            //             jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //             // jQuery("#change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //
            //         } else {
            //             //change_div.style.color = "red";
            //             jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //             // jQuery("#change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");
            //         }
            //         //console.log(url)
            //         //console.log(Intl.NumberFormat("de-DE").format(data.RAW[curr][Symbol].PRICE.toFixed(5)))
            //         //var x = document.getElementById("curr_img");
            //         //x.className = "curr_img"
            //         //x.src = img_src;
            //         jQuery("cq-todays-change").css({ 'font-size':15 });
            //         // jQuery("#volume").html(displaySymbol + " " + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].VOLUME24HOURTO.toFixed(3)));
            //         // jQuery("#marketcap").html(displaySymbol + " " + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].MKTCAP.toFixed(3)));
            //     });

            // var socket = io.connect("https://crypto.tradingcompare.com/")
            // socket.on('connect', function () {
            //     var room =  from + "_" + to + "_" + exchange
            //     socket.emit('room', room);
            //     socket.on('message', data => {
            //         console.log("data*********************************", data.change24)
            //             if (data.change24 > 0) {
            //                 //change_div.style.color = "green";
            //                 //  jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.change24) + "%");
            //                 jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.change24) + "%");
            //                 jQuery("cq-todays-change").addClass('positive');
            //             } else {
            //                 //change_div.style.color = "red";
            //                 jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.change24) + "%");
            //                 jQuery("cq-todays-change").addClass('negative');
            //             }
            //             previous_data = data.change24
            //
            // if(previous_price != undefined){
            //     if(previous_price > data[key].price){
            //         jQuery("cq-current-price").text(data[key].price).addClass('negative');
            //     }else if(previous_price < data[key].price)
            //         }
            //     })
            // })
            // }

            // setInterval(() => {
            //     update_chart_price()
            // }, 2000);

            // function get_name(curr)
            // {
            //     console.log("curr",curr)
            //     var array = httpGet('https://afternoon-mountain-15657.herokuapp.com/All-Coins-Aviho')
            //     var list = JSON.parse(array)
            //     console.log("list",list)
            //     var obj = list.find(o => o.FROMSYMBOL == curr)
            //     return obj.name
            // }

            // function httpGet2(url2){
            //     var xhr = new XMLHttpRequest();
            //     xhr.open( "GET", url2, false ); // false for synchronous request
            //     xhr.send( null );
            //     //console.log("xhr.responseText",xhr.responseText)
            //     return xhr.responseText;
            // }

            // function fill_select_curr()
            // {
            //     var data  = []
            //     var url2= "https://afternoon-mountain-15657.herokuapp.com/MarketsAndNames"
            //     var mySelect = httpGet2(url2);
            //     var select_list = JSON.parse(mySelect)
            //
            //     for (var i = 0; i < select_list[0].length; i++) {
            //
            //         var obj = {
            //             label: select_list[0][i] + ": " + select_list[1][i],
            //             value: select_list[1][i]
            //         }
            //         data.push(obj)
            //         //console.log("data*******", data)
            //     }
            //
            //     console.log("helooooooooooooooooooooo",data)
            //     jQuery(function() {
            //         jQuery( "#tags" ).autocomplete({
            //             source: function( request, response ) {
            //                 console.log("1",request.term)
            //                 var matcher = new RegExp( "^" + jQuery.ui.autocomplete.escapeRegex( request.term ), "i" );
            //                 response(jQuery.grep( data, function( item ){
            //
            //                     return matcher.test( item.label ) || matcher.test( item.value )
            //                 }) );
            //             },
            //             minLength: 0
            //             ,
            //             select: function( event , ui ) {
            //                 event.preventDefault();
            //                 jQuery("#tags").val(ui.item.label);
            //                 console.log( "You selected: " + ui.item.label )
            //                 openNewChart(ui.item.label)
            //             }
            //         }).focus(function() {
            //             console.log("val", jQuery(this).val())
            //             jQuery(this).autocomplete("search", jQuery(this).val());
            //         });
            //     });
            // }

            // function openNewChart(pair)
            // {
            //     var temp_pair = pair.split(":")[0]
            //     var from = temp_pair.split("/")[0]
            //     var to = temp_pair.split("/")[1]
            //     var name = pair.split(":")[1].replace(" ","")
            //     var exchange = get_default_exchange(temp_pair)
            //     var symb = {symbol: temp_pair, name: name, exchDisp: exchange}
            //     console.log("Will soon open ", "from",temp_pair,"to",symb,"name",name)
            //     console.log("oooooooooooooo",exchange)
            //     var name = get_name(from)
            //     var symb = {symbol: temp_pair, name: name, exchDisp: exchange}
            //
            //     var old_curr = stxx.chart.symbol
            //     console.log("old_curr",old_curr)
            //     var Exchange = jQuery( "#selectExchange option:selected" ).text()
            //     if(Exchange. length == 0)
            //     {
            //         var channel = "5~CCCAGG"
            //     }
            //     else
            //     {
            //         var channel = "2~" + Exchange
            //     }
            //
            //     var my_channel = channel +"~" + old_curr.split("/")[0] + "~" + old_curr.split("/")[1]
            //     subscription = [my_channel]
            //     console.log("--------------",subscription)
            //     socket.emit('SubRemove', { subs: subscription });
            //
            //     stxx.newChart(symb, null, null, function(err){
            //         if(err){
            //             //TODO, symbol not found error
            //             if(self.loader) self.loader.hide();
            //             return;
            //         }
            //         fillExchange()
            //         fill_price()
            //         setWS()
            //     })
            // }
            // var currentPrice = {};
            //
            // function get_curr_symbol () {
            //     return stxx.chart.symbol
            // }
            //
            // function get_curr_exchange () {
            //     return jQuery( "#selectExchange option:selected" ).text()
            // }

            // function setWS()
            // {
            //     var Exchange = jQuery( "#selectExchange option:selected" ).text()
            //     if(Exchange.length == 0 )
            //     {
            //         var channel = "5~CCCAGG"
            //     }
            //     else
            //     {
            //         var channel = "2~" + Exchange
            //     }
            //
            //     var my_channel =  channel + "~" + stxx.chart.symbol.split("/")[0]  + "~" + stxx.chart.symbol.split("/")[1]
            //
            //     console.log("my_channel",my_channel)
            //     var arr = [my_channel]
            //     //console.log(arr)
            //
            //     //Format: {SubscriptionId}~{ExchangeName}~{FromSymbol}~{ToSymbol}
            //     //Use SubscriptionId 0 for TRADE, 2 for CURRENT and 5 for CURRENTAGG
            //     //For aggregate quote updates use CCCAGG as market
            //     //var subscription = ['2~Bitfinex~BTC~USD'];
            //     var subscription = arr
            //     socket.emit('SubAdd', { subs: subscription });
            //     socket.on("m", function(message) {
            //         var messageType = message.substring(0, message.indexOf("~"));
            //         var res = {};
            //         //  console.log(messageType,CCC.STATIC.TYPE.CURRENTAGG)
            //         //if (messageType == CCC.STATIC.TYPE.CURRENTAGG) {
            //
            //         res = CCC.CURRENT.unpack(message);
            //         var curr_sym = get_curr_symbol()
            //         var from = curr_sym.split("/")[0]
            //         var to =  curr_sym.split("/")[1]
            //         var exch = get_curr_exchange()
            //         //  console.log("message",from,to,exch)
            //         if(res.TYPE == 2 && res.FROMSYMBOL == from && res.TOSYMBOL == to && res.MARKET == exch )
            //         {
            //             console.log("unpack",res.TYPE,res)
            //             dataUnpack(res);
            //         }
            //         // }
            //     });
            // }
            //
            // var dataUnpack = function(data) {
            //     var from = data['FROMSYMBOL'];
            //     var to = data['TOSYMBOL'];
            //     var fsym = CCC.STATIC.CURRENCY.getSymbol(from);
            //     var tsym = CCC.STATIC.CURRENCY.getSymbol(to);
            //     var pair = from + to;
            //     //console.log(pair);
            //
            //     if (!currentPrice.hasOwnProperty(pair)) {
            //         currentPrice[pair] = {};
            //     }
            //
            //     for (var key in data) {
            //         currentPrice[pair][key] = data[key];
            //     }
            //     //console.log(data)
            //     // var tt = jQuery("cq-current-price").text(  );
            //     // console.log("compare",currentPrice[pair]['PRICE'] ,tt )
            //     currentPrice[pair]['CHANGE24HOURPCT'] = (Math.abs((currentPrice[pair]['PRICE'] - currentPrice[pair]['OPEN24HOUR'])) / currentPrice[pair]['OPEN24HOUR'] * 100).toFixed(2) + "%"
            //     displayData(currentPrice[pair], from, tsym, fsym);
            // };
            //
            // var displayData = function(current, from, tsym, fsym) {
            //     //display data for ONE pair
            //     //console.log(current);
            //     var priceDirection = current.FLAGS;
            //     var old = jQuery("cq-current-price").text(  );
            //     var change24hour
            //
            //     var title
            //     var for_title
            //     //console.log("innnnnnnnnnnnnnnn")
            //     if(typeof current['PRICE'] == "undefined" || Number.isNaN(current['PRICE']))
            //     {
            //         for_title = ""
            //     }
            //     else
            //     {
            //         if(current['PRICE'] < 1)
            //         {
            //             jQuery("cq-current-price").text( (current['PRICE']));
            //             for_title = (current['PRICE'])
            //             //console.log("<11111111",current['PRICE'])
            //         }
            //         else
            //         {
            //             jQuery("cq-current-price").text( (current['PRICE']).toLocaleString());
            //             for_title = (current['PRICE']).toLocaleString()
            //             //console.log(">11111111",(current['PRICE']).toLocaleString())
            //         }
            //     }
            //
            //     jQuery("cq-current-price").removeClass();
            //
            //     if (priceDirection & 1) {
            //         jQuery("cq-current-price").addClass("price_up");
            //
            //         if( for_title.length != 0)
            //             title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " +"\u25b2 " + for_title + " \u200b ";
            //     }
            //     else if (priceDirection & 2) {
            //         jQuery("cq-current-price").addClass("price_down");
            //
            //         if( for_title.length != 0)
            //             title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " + "\u25bc "  + for_title + " \u200b ";
            //
            //     }
            //     else{
            //         if( for_title.length != 0)
            //             title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " + "\u200b  " + for_title + " \u200b ";
            //     }
            //     console.log("333333333333",title)
            //     setTimeout(() => {
            //         //console.log("----------")
            //         jQuery("cq-current-price").removeClass();
            //
            //     }, 2000);
            //     if( for_title.length != 0) {
            //         //document.title =   title
            //     }
            // }

            /******************************************************************************************************************************/

            function initialSymbol ()
            {
                // var from,to
                var pair = "{{ from }}"+ "_" + "{{ to }}"
                // var exchange = get_default_exchange(pair)
                var exchange = "none"
                {#var name = get_name("{{ from }}")#}
                {#var name = "{{ name }}"#}
                var group = "crypto"
                //console.log("pair",pair,"exchange",exchange,"name",name)
                var symb = {symbol: pair, exchDisp: exchange, group:group}
                //console.log("symb", symb,stxx.chart.symbol)
                stxx.newChart(symb, null, null, function(err){
                    if(err){
                        //TODO, symbol not found error
                        if(self.loader) self.loader.hide();
                        return;
                    }
                    setExchange()
                })
                CIQ.I18N.setLanguage(stxx, "{{app.request.getLocale()}}");
            }

            // function get_default_exchange(symbol)
            // {
            //     var arr = httpGet('https://crypto.tradingcompare.com/' + symbol)
            //     var Exchange_list = JSON.parse(arr)
            //     if(Exchange_list.indexOf('BITSTAMP') > -1){
            //         var Exchange = 'BITSTAMP'
            //     }
            //     else{
            //         var Exchange = Exchange_list[0]
            //     }
            //     //console.log("Exchange_list",Exchange_list)
            //     return Exchange
            //     /************************************************************************************/
            //     // var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + symbol)
            //     // var Exchange_list = JSON.parse(arr)
            //     // if(Exchange_list.length == 0)
            //     //     return "AGG"
            //     // Exchange = Exchange_list[0]
            //     // return Exchange
            // }
            function setExchange() {
                {#var arr = httpGet('https://crypto.tradingcompare.com/' + "{{ from }}"+ "/" + "{{ to }}")#}
                {#var Exchange_list = JSON.parse(arr)#}
                {#if(Exchange_list.indexOf('BITSTAMP') > -1){#}
                {#var index = Exchange_list.indexOf('BITSTAMP')#}
                {#Exchange_list[index] = Exchange_list[0]#}
                {#Exchange_list[0] = 'BITSTAMP'#}
                {#}#}
                {#//var Exchange = Exchange_list[0]#}
                {#// var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + stxx.chart.symbol)#}
                {#// var Exchange_list = JSON.parse(arr)#}
                {#// Exchange = Exchange_list[0]#}

                {#// if(Exchange_list.length != 0)#}
                {#//     jQuery('#selectExchange').css("display", "");#}

                {#var selectExchange = document.getElementById("selectExchange");#}

                {#jQuery('#selectExchange').empty()#}

                {#for (var i = 0; i < Exchange_list.length; i++) {#}
                {#//console.log("stxx.chart.symbol,Exchange_list[i]",stxx.chart.symbol,Exchange_list[i])#}
                {#var option = document.createElement("option");#}
                {#option.value = Exchange_list[i]#}
                {#option.text = Exchange_list[i]#}
                {#selectExchange.appendChild(option);#}
                {#}#}
                {#// console.log(jQuery('#selectExchange').val())#}
                {#// console.log("//////////////",jQuery( "#selectExchange option:selected" ).text())#}

                {#/***********************************************************************************************/#}
                {#fill_price()#}
                {#//#}
                jQuery('#selectExchange').on('change', function (e) {
                    //console.log("innnnnnnnnnnnnnnnnn",stxx.chart.symbol)
                    //var ExchangeSelected = jQuery("option:selected", this);
                    //Exchange = this.value

                    //var from = stxx.chart.symbol.split("/")[0]
                    //var name = get_name(from)
                    // var old_curr = stxx.chart.symbol
                    var Exchange = jQuery( "#selectExchange option:selected" ).text()
                    if(Exchange == 'General Chart'){Exchange = 'none'}
                    // if(Exchange.length == 0)
                    // {
                    //     var channel = "5~CCCAGG"
                    // }
                    // else
                    // {
                    //     var channel = "2~" + Exchange
                    // }

                    // var my_channel = channel +"~" + old_curr.split("/")[0] + "~" + old_curr.split("/")[1]
                    // subscription = [my_channel]
                    // console.log("--------------",subscription)
                    // socket.emit('SubRemove', { subs: subscription });

                    //   UIContext.UISymbolLookup.selectItem({symbol: stxx.chart.symbol, name: "Bitcoin", exchDisp: Exchange})
                    var symb = {symbol: stxx.chart.symbol, exchDisp: Exchange, group : "crypto"}
                    stxx.newChart(symb, null, null, function(err){
                        if(err){
                            //TODO, symbol not found error
                            if(self.loader) self.loader.hide();
                            return;
                        }
                        //setWS()
                    })
                });
            }

            {#function fillExchange() {#}
            {#var arr = httpGet('https://crypto.tradingcompare.com/' + "{{ from }}"+ "/" + "{{ to }}")#}
            {#var Exchange_list = JSON.parse(arr)#}
            {#if(Exchange_list.indexOf('BITSTAMP') > -1){#}
            {#var index = Exchange_list.indexOf('BITSTAMP')#}
            {#Exchange_list[index] = Exchange_list[0]#}
            {#Exchange_list[0] = 'BITSTAMP'#}
            {#}#}
            {#// var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + stxx.chart.symbol)#}
            {#// var Exchange_list = JSON.parse(arr)#}
            {#// Exchange = Exchange_list[0]#}

            {#var selectExchange = document.getElementById("selectExchange");#}
            {#jQuery('#selectExchange').empty()#}

            {#for (var i = 0; i < Exchange_list.length; i++) {#}
            {#//console.log(stxx.chart.symbol,Exchange_list[i])#}
            {#var option = document.createElement("option");#}
            {#option.value = Exchange_list[i]#}
            {#option.text = Exchange_list[i]#}
            {#selectExchange.appendChild(option);#}
            {#}#}
            {#}#}
        })(jQuery);
    </script>

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

{% endblock %}





{#{% extends 'base.html.twig' %}#}

 {#{% block description %}#}
     {#<title> {{currency}} Price Chart Real-time price, sentiment, chart:</title>#}
     {#<meta name="description" content="Live {{ currency}} Bitcoin chart. Free online platform for market analysis.Sentiment from real traders, online discussion, international coverage, technical indicators & latest news.">#}
 {#{% endblock %}#}


{#{% block body %}#}

{#<div id="dvChart" class="my-container ng-cloak" ng-controller="ChartController" ng-init="init('{{ api }}', '{{ from }}', '{{ to }}','{{ like }}')">#}
    {#<div ng-controller="ChartController ">#}
        {#<section class="table">#}
            {#<div class="chart_search">#}
                {#<div class="container">#}
                    {#<div class="row">#}
                        {#<input class="search_input" type="text" placeholder="Search Instruments">#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
            {#<div class="container padding_non">#}
                {#<div class="row">#}
                    {#<div class="col-md-8 col-sm-12 col-xs-12">#}
                        {#<div class="chart_bitcoin-cont">#}
                            {#<div class="bitcoin_text-cont">#}
                                {#<div class="bitcoin_img-cont">#}
                                    {#<img class="bitcoin_img" ng-scr="{[{allimg.img}]}" alt="{[{mycrypto.fromSymbol}]}" >#}
                                {#</div>#}
                                {#<div class="bitcoin_text-cont_left">#}
                                    {#<h3 class="bitcoin_title">{[{allimg.name}]}<span class="bitcoin_title_right">{[{mycrypto.fromSymbol}]}/{[{mycrypto.toSymbol}]}</span><span class="bitcoin_title_right-start"><i class="fas fa-star"></i></span></h3>#}
                                    {#<p class="statistics_block_green-text" ng-class="{'negative': mycrypto.change24 < 0, 'positive': mycrypto.change24 >= 0}">{[{mycrypto.change24}]}% <span class="statistics_block_min-text">{[{mycrypto.point}]}</span>#}
                                        {#<span class="bitcoin_green-text_icon"><i class="fas fa-share"></i></span></p>#}
                                    {#<h3 class="bitcoin_many bitcoin_many-mobile" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}</h3>#}
                                    {#<p class="bitcoin_bottom-text">#}
                                        {#High: <span class="bitcoin_bottom-text_bold">{[{mycrypto.high24}]}</span>#}
                                        {#Low:<span class="bitcoin_bottom-text_bold">{[{mycrypto.low24}]}</span>#}
                                        {#<br> Open: <span class="bitcoin_bottom-text_bold">{[{mycrypto.open24}]}</span>#}
                                        {#Close: <span class="bitcoin_bottom-text_bold">{[{mycrypto.price}]}</span>#}
                                        {#<br> Market Cap: <span class="bitcoin_bottom-text_bold">{[{mycrypto.Maketcap}]}</span>#}
                                    {#</p>#}
                                {#</div>#}
                                {#<div class="bitcoin_text-cont_right">#}
                                    {#<h3 class="bitcoin_many xs-none" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}</h3>#}
                                    {#<a class="btcoin_btn" href="http://borthy-carges.com/98dd47bc-5797-47bf-847a-784a2445ee36" target="_blank">TRADE NOW</a>#}
                                {#</div>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                    {#<div class="col-md-4 col-sm-5 col-xs-12 ">#}
                        {#<div class="chart_bitcoin-reting">#}
                            {#<p class="chart_bitcoin-reting_like-text"><span class="chart_bitcoin-reting_icon"><i class="fas fa-thumbs-up"></i></span> {[{allimg.likes}]}</p>#}
                            {#<p class="chart_bitcoin-reting_like-text"><span class="chart_bitcoin-reting_icon"><i class="fas fa-thumbs-down"></i></span> {[{allimg.unlikes}]}</p>#}
                            {#<p class="chart_bitcoin-reting_prozent">Sentiment: {[{allimg.sentiment }]}% Buying</p>#}
                            {#<div class="chart_bitcoin-reting_progress-bar">#}
                                {#<div class="reting_progress-bar_click"></div>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                    {#<div class="col-md-12 col-sm-7 col-xs-12 xs-none">#}
                        {#<div class="chart_content-text">#}
                            {#<p class="chart_content-text_info">#}
                                {#{{ currency}}#}
                            {#</p>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}

            {#<div class="container">#}
                {#<div class="row">#}
                    {#<div class="general-chart">#}
                        {#<img class="general-chart_img" src='{{ asset("img/chart.png") }}' alt="chart">#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
        {#</section>#}
    {#</div>#}
{#</div>#}


{#{% endblock %}#}

{#{% block javascripts %}#}
    {#{{ parent() }}#}
    {#<script src="{{ asset('js/Chart_crypto.js') }}"></script>#}
    {#<script>#}
        {#function loadCSS(hf) {#}
            {#var ms = document.createElement("link");#}
            {#ms.rel = "stylesheet";#}
            {#ms.href = hf;#}
            {#document.getElementsByTagName("head")[0].appendChild(ms);#}
        {#}#}

        {#loadCSS('{{asset("css/charts.css" )}}');#}
        {#loadCSS('{{asset("css/comment.css" )}}');#}

    {#</script>#}
{#{% endblock %}#}




{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}
{#////////**************************************** old code ************************************////#}

{#{% extends 'base.html.twig' %}#}


 {#{% block description %}#}
     {#<title>{{ name }} ({{ currency }}) Price Index | Real Time {{ name }} Chart - Trading Compare</title>#}
     {#<meta name="description" content="Follow {{ name }} ${{ currency }} price and historical data. View our Interactive {{ name }} Chart and market data for {{ currency }}.">#}
 {#{% endblock %}#}


{#{% block body %}#}

    {#<link rel="stylesheet" href="https://www.interactivecrypto.com/chart_iq_web/css/perfect-scrollbar.css" />#}
    {#<link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/normalize.css" media="screen" />#}
    {#<link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/page-defaults.css" media="screen" />#}
    {#<link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/stx-chart.css" media="screen" />#}
    {#<link rel="stylesheet" type="text/css" href="https://www.interactivecrypto.com/chart_iq_web/css/chartiq.css" media="screen" />#}
    {#<link rel="stylesheet" href="https://www.interactivecrypto.com/chart_iq_web/css/perfect-scrollbar.css" />#}
    {#<link rel="stylesheet" href='{{ asset("css/charts.css") }}' />#}
    {#<link rel="stylesheet" href='{{ asset("css/chart-live-iq.css") }}' />#}

    {#{{ include('default/searchbar_chart.html.twig') }}#}
    {#<div id="dvChart" class="my-container ng-cloak" ng-controller="ChartController" ng-init="init('{{ currency }}', '{{ from }}', '{{ to }}','{{ crypto_api }}')">#}
        {#<div ng-controller="ChartController ">#}
            {#<section class="table">#}
                {#<div class="chart_search">#}
                    {#<div class="container">#}
                        {#<div class="row">#}
                            {#<input class="search_input" type="" placeholder="Search Instruments">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}


                {#<div class="container padding_non">#}
                    {#<div class="row ">#}

                        {#<div class="col-md-8 col-sm-12 col-xs-12 " style="padding-right: 0px;padding-left: 0px;">#}
                            {#<div class="chart_bitcoin-cont ">#}
                                {#<div class="bitcoin_text-cont">#}
                                    {#<div class="bitcoin_img-cont">#}
                                        {#<img class="bitcoin_img" ng-src="{[{mycrypto.img}]}" onerror="this.src='/img/crypto_logos/crypto-other.png'";>#}
                                    {#</div>#}
                                    {#<div class="bitcoin_text-cont_left ">#}
                                        {#<h3 class="bitcoin_title text_size">{[{mycrypto.name}]}<span class="bitcoin_title_right">{[{mycrypto.pair.replace("_","/")}]}</span><span class="bitcoin_title_right-start"><i class="fas fa-star"></i></span></h3>#}
                                        {#<h3 class="bitcoin_many_stock text_size" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}#}
                                            {#<span class="statistics_block-text" ng-class="{'negative': mycrypto.change24 < 0, 'positive': mycrypto.change24 >= 0}">{[{mycrypto.change24}]}%#}
                                                {#<span class="statistics_block_min-text">{[{mycrypto.point}]}</span>#}
                                                {#<span class="bitcoin_green-text_icon"><i class="fas fa-share"></i></span></span>#}
                                        {#</h3>#}
                                    {#</div>#}
                                    {#<div class="bitcoin_text-cont_right">#}
                                        {#<a class="btcoin_btn btn1" href="http://borthy-carges.com/98dd47bc-5797-47bf-847a-784a2445ee36" target="_blank">TRADE NOW</a>#}
                                    {#</div>#}
                                {#</div>#}
                            {#</div>#}

                            {#<div class="chart_content-text chart_content-text1 ">#}
                                {#<div class="bitcoin_text-cont_left">#}
                                    {#<p class="bitcoin_bottom-text text-price column">#}

                                        {#High: <span class="bitcoin_bottom-text_bold">{[{mycrypto.high24}]}</span>#}
                                        {#<br>Low:<span class="bitcoin_bottom-text_bold">{[{mycrypto.low24}]}</span>#}
                                        {#<br>Open: <span class="bitcoin_bottom-text_bold">{[{mycrypto.open24}]}</span>#}
                                        {#<br>Close: <span class="bitcoin_bottom-text_bold">{[{mycrypto.price}]}</span>#}
                                        {#<br> Market Cap: <span class="bitcoin_bottom-text_bold">{[{mycrypto.marketcap}]}</span>#}
                                        {#<br> Volume: <span class="bitcoin_bottom-text_bold">{[{mycrypto.volume}]}</span>#}

                                    {#</p>#}
                                {#</div>#}
                            {#</div>#}
                        {#</div>#}


                        {#<div class="col-md-4 col-sm-6 col-xs-12 col-sm1 ">#}
                            {#<div class="chart_bitcoin-reting chart_bitcoin-reting1 box_height_crypto1" style="    padding-bottom: 0px;    padding-top: 20px;">#}
                                {#<div class="col-md-6 col-sm-6 col-xs-6 ">#}
                                    {#<a class="btcoin_btn sentiments_btn_green" target="_blank">BULLISH</a>#}
                                {#</div>#}
                                {#<div class="col-md-6 col-sm-6 col-xs-6 ">#}
                                    {#<a class="btcoin_btn sentiments_btn_red" target="_blank">BEARISH</a>#}
                                {#</div>#}
                                {#<p#}
                                        {#class="chart_bitcoin-reting_prozent"#}
                                {#>Sentiment: {[{mycrypto.sentiment }]}% Buying</p>#}
                                {#<div class="chart_bitcoin-reting_progress-bar">#}
                                    {#<div class="reting_progress-bar_click"></div>#}
                                {#</div>#}
                            {#</div>#}
                        {#</div>#}

                        {#<div class="col-md-4 col-sm-6 col-xs-12 col-sm2">#}
                            {#<div class="chart_content-text chart_bitcoin-reting box_height_crypto2" >#}
                                {#<p class="chart_content-text_info">#}
                                    {#{[{mycrypto.name}]} - {{ currency}}#}
                                {#</p>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}


                {#<div class="container padding_non">#}
                    {#<div class="row">#}
                        {#<div class="col-md-8 col-sm-12 col-xs-12">#}
                            {#<div class="chart_bitcoin-cont">#}
                                {#<div class="bitcoin_text-cont">#}
                                    {#<div class="bitcoin_img-cont">#}
                                        {#<img class="bitcoin_img" ng-src="{[{mycrypto.img}]}" onerror="this.src='/img/crypto_logos/crypto-other.png'";>#}
                                    {#</div>#}
                                    {#<div class="bitcoin_text-cont_left">#}
                                        {#<h3 class="bitcoin_title">{[{mycrypto.name}]}<span class="bitcoin_title_right">{[{mycrypto.pair.replace("_","/")}]}</span><span class="bitcoin_title_right-start"><i class="fas fa-star"></i></span></h3>#}
                                        {#<p#}
                                           {#class="statistics_block-text"#}
                                           {#ng-class="{' negative': mycrypto.change24 < 0, 'positive': mycrypto.change24 >= 0}">{[{mycrypto.change24}]}% <span class="statistics_block_min-text">{[{mycrypto.point}]}</span>#}
                                            {#<span class="bitcoin_green-text_icon"><i class="fas fa-share"></i></span></p>#}
                                        {#<h3 class="bitcoin_many bitcoin_many-mobile" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}</h3>#}
                                        {#<p class="bitcoin_bottom-text">#}
                                            {#High: <span class="bitcoin_bottom-text_bold">{[{mycrypto.high24}]}</span>#}
                                            {#Low:<span class="bitcoin_bottom-text_bold">{[{mycrypto.low24}]}</span>#}
                                            {#<br> Open: <span class="bitcoin_bottom-text_bold">{[{mycrypto.open24}]}</span>#}
                                            {#Close: <span class="bitcoin_bottom-text_bold">{[{mycrypto.price}]}</span>#}
                                            {#<br> Market Cap: <span class="bitcoin_bottom-text_bold">{[{mycrypto.marketcap}]}</span>#}
                                        {#</p>#}
                                    {#</div>#}
                                    {#<div class="bitcoin_text-cont_right">#}
                                        {#<h3 class="bitcoin_many xs-none" ng-class="{'negative': mycrypto.variation == 'down', 'positive':mycrypto.variation == 'up', 'neutral': mycrypto.variation == 'none'}">{[{mycrypto.price}]}</h3>#}
                                        {#<a class="btcoin_btn" href="http://borthy-carges.com/98dd47bc-5797-47bf-847a-784a2445ee36" target="_blank">TRADE NOW</a>#}
                                    {#</div>#}
                                {#</div>#}
                            {#</div>#}
                        {#</div>#}
                        {#<div class="col-md-4 col-sm-5 col-xs-12 ">#}
                            {#<div class="chart_bitcoin-reting">#}
                                {#<p class="chart_bitcoin-reting_like-text"><span class="chart_bitcoin-reting_icon"><i class="fas fa-thumbs-up"></i></span> {[{mycrypto.likes}]}</p>#}
                                {#<p class="chart_bitcoin-reting_like-text"><span class="chart_bitcoin-reting_icon"><i class="fas fa-thumbs-down"></i></span> {[{mycrypto.unlikes}]}</p>#}
                                {#<p class="chart_bitcoin-reting_prozent">Sentiment: {[{mycrypto.sentiment }]}% Buying</p>#}
                                {#<div class="chart_bitcoin-reting_progress-bar">#}
                                    {#<div class="reting_progress-bar_click"></div>#}
                                {#</div>#}
                            {#</div>#}
                        {#</div>#}
                        {#<div class="col-md-12 col-sm-7 col-xs-12 xs-none">#}
                            {#<div class="chart_content-text">#}
                                {#<p class="chart_content-text_info">#}
                                    {#{[{mycrypto.name}]} - {{ currency}}#}
                                {#</p>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</section>#}
        {#</div>#}
    {#</div>#}


    {#<div id="dvChart-live" class="my-container ng-cloak" ng-controller="ChartLiveController" ng-init="init('{{ from }}', '{{ to }}')">#}
    {#<div ng-controller="ChartLiveController ">#}

    {#<div class="my-container">#}
        {#<div>#}
            {#<section class="table">#}
                {#<div class="container">#}
                    {#<div class="row ">#}
                        {#<div class="general-chart ">#}
                        {#<div class="select-exchange" style="height:75px; background-color:#151f28; border:1px solid #151f28">#}
                            {#<input  style="width:15%;" type="search" placeholder=" Search currencies " id="tags" />#}
                            {#<select style="width: 98%" id="selectExchange" class="my_select"></select>#}
                            {#<button style="width:7%;" id="buy_button" class="buy_button"></button>#}
                            {#<button style="width:7%;" id="sell_button" class="sell_button"></button>#}
                        {#</div>#}

                        {#</div>#}
                        {#<div class=" chart ">#}
                            {#<div>#}
                                {#<cq-context class="container">#}
                                    {#<cq-ui-manager></cq-ui-manager>#}
                                    {#<cq-color-picker>#}
                                        {#<cq-colors></cq-colors>#}
                                        {#<cq-overrides>#}
                                            {#<template>#}
                                                {#<div class="ciq-btn"></div>#}
                                            {#</template>#}
                                        {#</cq-overrides>#}
                                    {#</cq-color-picker>#}


                                    {#<div class="ciq-nav">#}

                                        {#<div class="ciq-menu-section">#}
                                            {#<div class="ciq-dropdowns">#}
                                                {#<cq-menu class="ciq-menu ciq-period">#}

                                                    {#<span><cq-clickable stxbind="Layout.periodicity">1 D</cq-clickable></span>#}
                                                    {#<cq-menu-dropdown>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'day')">1 D</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'week')">1 W</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'month')">1 Mo</cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,1,'minute')">1 Min</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,5,'minute')">5 Min</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,10,'minute')">10 Min</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(3,5,'minute')">15 Min</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,30,'minute')">30 Min</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(1,60,'minute')">1 Hour</cq-item>#}
                                                        {#<cq-item stxtap="Layout.setPeriodicity(8,30,'minute')">4 Hour</cq-item>#}
                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                                {#<cq-menu class="ciq-menu ciq-views collapse">#}
                                                    {#<span>Views</span>#}
                                                    {#<cq-menu-dropdown>#}
                                                        {#<cq-views>#}
                                                            {#<cq-heading>Saved Views</cq-heading>#}
                                                            {#<cq-views-content>#}
                                                                {#<template cq-view>#}
                                                                    {#<cq-item>#}
                                                                        {#<cq-label></cq-label>#}
                                                                        {#<div class="ciq-icon ciq-close"></div>#}
                                                                    {#</cq-item>#}
                                                                {#</template>#}
                                                            {#</cq-views-content>#}
                                                            {#<cq-separator cq-partial></cq-separator>#}
                                                            {#<cq-view-save>#}
                                                                {#<cq-item><cq-plus></cq-plus>Save View</cq-item>#}
                                                            {#</cq-view-save>#}
                                                        {#</cq-views>#}
                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                                {#<cq-menu class="ciq-menu ciq-display collapse">#}
                                                    {#<span>Display</span>#}
                                                    {#<cq-menu-dropdown>#}
                                                        {#<cq-heading>Chart Style</cq-heading>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('candle')">Candle<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('bar')">Bar<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('colored_bar')">Colored Bar<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('line')">Line<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('hollow_candle')">Hollow Candle<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('mountain')">Mountain<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('baseline_delta')">Baseline<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ChartType('volume_candle')">Volume Candle<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-item>#}
                                                            {#<div stxsetget="Layout.ChartType('heikinashi')">Heikin Ashi<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item>#}
                                                            {#<span class="ciq-edit" stxtap="Layout.showAggregationEdit('kagi')"></span>#}
                                                            {#<div stxsetget="Layout.ChartType('kagi')">Kagi<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item>#}
                                                            {#<span class="ciq-edit" stxtap="Layout.showAggregationEdit('linebreak')"></span>#}
                                                            {#<div stxsetget="Layout.ChartType('linebreak')">Line Break<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item>#}
                                                            {#<span class="ciq-edit" stxtap="Layout.showAggregationEdit('renko')"></span>#}
                                                            {#<div stxsetget="Layout.ChartType('renko')">Renko<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item>#}
                                                            {#<span class="ciq-edit" stxtap="Layout.showAggregationEdit('rangebars')"></span>#}
                                                            {#<div stxsetget="Layout.ChartType('rangebars')">Range Bars<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item>#}
                                                            {#<span class="ciq-edit" stxtap="Layout.showAggregationEdit('pandf')"></span>#}
                                                            {#<div stxsetget="Layout.ChartType('pandf')">Point & Figure<span class="ciq-radio"><span></span></span>#}
                                                            {#</div>#}
                                                        {#</cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-heading>Chart Preferences</cq-heading>#}
                                                        {#<cq-item stxsetget="Layout.ChartScale('log')">Log Scale<span class="ciq-checkbox ciq-active"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.ExtendedHours()">Extended Hours<span class="ciq-checkbox ciq-active"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item stxsetget="Layout.RangeSlider()">Range Selector<span class="ciq-checkbox ciq-active"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-heading>Locale</cq-heading>#}
                                                        {#<cq-item><cq-clickable cq-selector="cq-timezone-dialog" cq-method="open">Change Timezone</cq-clickable></cq-item>#}
                                                        {#<cq-item stxsetget="Layout.Language()"><cq-flag></cq-flag><cq-language-name>Change Language</cq-language-name></cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-heading>Themes</cq-heading>#}
                                                        {#<cq-themes>#}
                                                            {#<cq-themes-builtin cq-no-close>#}
                                                                {#<template>#}
                                                                    {#<cq-item></cq-item>#}
                                                                {#</template>#}
                                                            {#</cq-themes-builtin>#}
                                                            {#<cq-themes-custom cq-no-close>#}
                                                                {#<template>#}
                                                                    {#<cq-theme-custom>#}
                                                                        {#<cq-item>#}
                                                                            {#<cq-label></cq-label>#}
                                                                            {#<cq-close></cq-close>#}
                                                                        {#</cq-item>#}
                                                                    {#</cq-theme-custom>#}
                                                                {#</template>#}
                                                            {#</cq-themes-custom>#}
                                                            {#<cq-separator cq-partial></cq-separator>#}
                                                            {#<cq-item stxtap="newTheme()"><cq-plus></cq-plus>New Theme</cq-item>#}
                                                        {#</cq-themes>#}
                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                                {#<cq-menu class="ciq-menu ciq-studies collapse">#}
                                                    {#<span>Studies</span>#}
                                                    {#<cq-menu-dropdown cq-no-scroll>#}
                                                        {#<cq-study-legend cq-no-close>#}
                                                            {#<cq-section-dynamic>#}
                                                                {#<cq-heading>Current Studies</cq-heading>#}
                                                                {#<cq-study-legend-content>#}
                                                                    {#<template>#}
                                                                        {#<cq-item>#}
                                                                            {#<cq-label class="click-to-edit"></cq-label>#}
                                                                            {#<div class="ciq-icon ciq-close"></div>#}
                                                                        {#</cq-item>#}
                                                                    {#</template>#}
                                                                {#</cq-study-legend-content>#}
                                                                {#<cq-placeholder>#}
                                                                    {#<div stxtap="Layout.clearStudies()" class="ciq-btn sm">Clear All</div>#}
                                                                {#</cq-placeholder>#}
                                                            {#</cq-section-dynamic>#}
                                                        {#</cq-study-legend>#}
                                                        {#<cq-scroll cq-studies>#}
                                                            {#<cq-item class="stxTemplate"></cq-item>#}
                                                        {#</cq-scroll>#}

                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                                {#<cq-menu class="ciq-menu stx-markers collapse">#}
                                                    {#<span>Events</span>#}
                                                    {#<cq-menu-dropdown>#}
                                                        {#<cq-item class="square">Simple Square<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item class="circle">Simple Circle<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item class="callout">Callouts<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item class="abstract">Abstract<span class="ciq-radio"><span></span></span>#}
                                                        {#</cq-item>#}
                                                        {#<cq-item class="none">None<span class="ciq-radio ciq-active"><span></span></span>#}
                                                        {#</cq-item>#}
                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                            {#</div>#}

                                            {#<!-- enables the more button when in break-sm mode -->#}
                                            {#<div class="sidenav-toggle ciq-toggles">#}
                                                {#<cq-toggle class="ciq-sidenav" cq-member="sidenav" cq-toggles="sidenavOn,sidenavOff"><span></span>#}
                                                    {#<cq-tooltip>More</cq-tooltip>#}
                                                {#</cq-toggle>#}
                                            {#</div>#}

                                            {#<!-- any entry in this div will be shown in the side navigation bar in break-sm mode -->#}
                                            {#<div class="icon-toggles ciq-toggles">#}
                                                {#<cq-toggle class="ciq-CH" cq-member="crosshair"><span></span><cq-tooltip>Crosshair</cq-tooltip></cq-toggle>#}
                                                {#<cq-toggle class="ciq-HU" cq-member="headsUp" cq-toggles="dynamic,static,null"><span></span><cq-tooltip>Info</cq-tooltip></cq-toggle>#}
                                                {#<cq-toggle class="ciq-draw"><span></span><cq-tooltip>Draw</cq-tooltip></cq-toggle>#}

                                                {#<!-- comment in the following line if you are using the TFC plug in -->#}
                                                {#<!-- <cq-toggle class="sidebar stx-trade"><span></span><cq-tooltip>Trade</cq-tooltip></cq-toggle> -->#}
                                                {#<!-- comment in the following line if you are using the tradingcentral plug in -->#}
                                                {#<!-- <cq-toggle class="stx-tradingcentral"><span></span><cq-tooltip>Analysis</cq-tooltip></cq-toggle> -->#}
                                            {#</div>#}
                                        {#</div>#}
                                    {#</div>#}
                                    {#<!-- End Navbar -->#}

                                    {#<!-- comment in the following line if you are using the TFC plug in -->#}
                                    {#<!-- <cq-tfc></cq-tfc> -->#}

                                    {#<!-- comment in the following line if you are using the tradingcentral plug in -->#}
                                    {#<!-- <cq-tradingcentral token="leWp5sKSbV7sENXba2EUXQ==" partner="647" disabled></cq-tradingcentral> -->#}

                                    {#<div class="ciq-chart-area">#}
                                        {#<div class="ciq-chart">#}
                                            {#<cq-toolbar>#}
                                                {#<cq-menu class="ciq-select">#}
                                                    {#<span cq-current-tool>Select Tool</span>#}
                                                    {#<cq-menu-dropdown>#}
                                                        {#<cq-item stxtap="noTool()">None</cq-item>#}
                                                        {#<cq-item stxtap="clearDrawings()">Clear Drawings</cq-item>#}
                                                        {#<cq-item stxtap="tool('measure')">Measure</cq-item>#}
                                                        {#<cq-separator></cq-separator>#}
                                                        {#<cq-item stxtap="tool('annotation')">Annotation</cq-item>#}
                                                        {#<cq-item stxtap="tool('average')">Average Line</cq-item>#}
                                                        {#<cq-item stxtap="tool('callout')">Callout</cq-item>#}
                                                        {#<cq-item stxtap="tool('channel')">Channel</cq-item>#}
                                                        {#<cq-item stxtap="tool('continuous')">Continuous</cq-item>#}
                                                        {#<cq-item stxtap="tool('crossline')">Crossline</cq-item>#}
                                                        {#<cq-item stxtap="tool('freeform')">Doodle</cq-item>#}
                                                        {#<cq-item stxtap="tool('ellipse')">Ellipse</cq-item>#}
                                                        {#<cq-item stxtap="tool('fibonacci')">Fibonacci</cq-item>#}
                                                        {#<cq-item stxtap="tool('fibarc')">Fib Arc</cq-item>#}
                                                        {#<cq-item stxtap="tool('fibfan')">Fib Fan</cq-item>#}
                                                        {#<cq-item stxtap="tool('fibtimezone')">Fib Time Zone</cq-item>#}
                                                        {#<cq-item stxtap="tool('gannfan')">Gann Fan</cq-item>#}
                                                        {#<cq-item stxtap="tool('gartley')">Gartley</cq-item>#}
                                                        {#<cq-item stxtap="tool('horizontal')">Horizontal</cq-item>#}
                                                        {#<cq-item stxtap="tool('line')">Line</cq-item>#}
                                                        {#<cq-item stxtap="tool('pitchfork')">Pitchfork</cq-item>#}
                                                        {#<cq-item stxtap="tool('quadrant')">Quadrant Lines</cq-item>#}
                                                        {#<cq-item stxtap="tool('ray')">Ray</cq-item>#}
                                                        {#<cq-item stxtap="tool('rectangle')">Rectangle</cq-item>#}
                                                        {#<cq-item stxtap="tool('regression')">Regression Line</cq-item>#}
                                                        {#<cq-item stxtap="tool('segment')">Segment</cq-item>#}
                                                        {#<cq-item stxtap="tool('arrow')">Shape - Arrow</cq-item>#}
                                                        {#<cq-item stxtap="tool('check')">Shape - Check</cq-item>#}
                                                        {#<cq-item stxtap="tool('xcross')">Shape - Cross</cq-item>#}
                                                        {#<cq-item stxtap="tool('focusarrow')">Shape - Focus</cq-item>#}
                                                        {#<cq-item stxtap="tool('heart')">Shape - Heart</cq-item>#}
                                                        {#<cq-item stxtap="tool('star')">Shape - Star</cq-item>#}
                                                        {#<cq-item stxtap="tool('speedarc')">Speed Resistance Arc</cq-item>#}
                                                        {#<cq-item stxtap="tool('speedline')">Speed Resistance Line</cq-item>#}
                                                        {#<cq-item stxtap="tool('timecycle')">Time Cycle</cq-item>#}
                                                        {#<cq-item stxtap="tool('tirone')">Tirone Levels</cq-item>#}
                                                        {#<cq-item stxtap="tool('vertical')">Vertical</cq-item>#}
                                                    {#</cq-menu-dropdown>#}
                                                {#</cq-menu>#}
                                                {#<cq-toolbar-settings>#}
                                                    {#<cq-fill-color cq-section class="ciq-color" stxbind="getFillColor()" stxtap="pickFillColor()">#}
                                                        {#<span></span>#}
                                                    {#</cq-fill-color>#}
                                                    {#<div>#}
                                                        {#<cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getLineColor()" stxtap="pickLineColor()"><span></span></cq-line-color>#}
                                                        {#<cq-line-style cq-section>#}
                                                            {#<cq-menu class="ciq-select">#}
                                                                {#<span cq-line-style class="ciq-line ciq-selected"></span>#}
                                                                {#<cq-menu-dropdown class="ciq-line-style-menu">#}
                                                                    {#<cq-item stxtap="setLine(1,'solid')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(3,'solid')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(5,'solid')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(1,'dotted')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(3,'dotted')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(5,'dotted')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(1,'dashed')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(3,'dashed')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(5,'dashed')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>#}
                                                                    {#<cq-item stxtap="setLine(0,'none')" class="ciq-none">None</cq-item>#}
                                                                {#</cq-menu-dropdown>#}
                                                            {#</cq-menu>#}
                                                        {#</cq-line-style>#}
                                                    {#</div>#}
                                                    {#<cq-axis-label cq-section>#}
                                                        {#<div class="ciq-heading">Axis Label:</div>#}
                                                        {#<span stxtap="toggleAxisLabel()" class="ciq-checkbox ciq-active"><span></span></span>#}
                                                    {#</cq-axis-label>#}
                                                    {#<cq-annotation cq-section>#}
                                                        {#<div stxtap="toggleFontStyle('italic')" class="ciq-btn" style="font-style:italic;">I</div>#}
                                                        {#<div stxtap="toggleFontStyle('bold')" class="ciq-btn" style="font-weight:bold;">B</div>#}
                                                        {#<cq-menu class="ciq-select">#}
                                                            {#<span cq-font-size>12px</span>#}
                                                            {#<cq-menu-dropdown class="ciq-font-size">#}
                                                                {#<cq-item stxtap="setFontSize('8px')">8</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('10px')">10</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('12px')">12</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('13px')">13</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('14px')">14</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('16px')">16</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('20px')">20</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('28px')">28</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('36px')">36</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('48px')">48</cq-item>#}
                                                                {#<cq-item stxtap="setFontSize('64px')">64</cq-item>#}
                                                            {#</cq-menu-dropdown>#}
                                                        {#</cq-menu>#}
                                                        {#<cq-menu class="ciq-select">#}
                                                            {#<span cq-font-family>Default</span>#}
                                                            {#<cq-menu-dropdown class="ciq-font-family">#}
                                                                {#<cq-item stxtap="setFontFamily('Default')">Default</cq-item>#}
                                                                {#<cq-item stxtap="setFontFamily('Helvetica')">Helvetica</cq-item>#}
                                                                {#<cq-item stxtap="setFontFamily('Courier')">Courier</cq-item>#}
                                                                {#<cq-item stxtap="setFontFamily('Garamond')">Garamond</cq-item>#}
                                                                {#<cq-item stxtap="setFontFamily('Palatino')">Palatino</cq-item>#}
                                                                {#<cq-item stxtap="setFontFamily('Times New Roman')">Times New Roman</cq-item>#}
                                                            {#</cq-menu-dropdown>#}
                                                        {#</cq-menu>#}
                                                    {#</cq-annotation>#}
                                                    {#<cq-clickable cq-fib-settings cq-selector="cq-fib-settings-dialog" cq-method="open" cq-section><span class="ciq-btn">Settings</span></cq-clickable>#}
                                                {#</cq-toolbar-settings>#}
                                                {#<cq-measure><span class="measureUnlit" id="mMeasure"></span></cq-measure>#}
                                                {#<cq-undo-section>#}
                                                    {#<cq-undo class="ciq-btn">Undo</cq-undo>#}
                                                    {#<cq-redo class="ciq-btn">Redo</cq-redo>#}
                                                {#</cq-undo-section>#}
                                            {#</cq-toolbar>#}
                                            {#<div class="chartContainer" id="chartContainer">#}

                                                {#<stx-hu-tooltip>#}
                                                    {#<stx-hu-tooltip-field field="DT">#}
                                                        {#<stx-hu-tooltip-field-name>Date/Time</stx-hu-tooltip-field-name>#}
                                                        {#<stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>#}
                                                    {#</stx-hu-tooltip-field>#}
                                                    {#<stx-hu-tooltip-field field="Close">#}
                                                        {#<stx-hu-tooltip-field-name></stx-hu-tooltip-field-name>#}
                                                        {#<stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>#}
                                                    {#</stx-hu-tooltip-field>#}
                                                {#</stx-hu-tooltip>#}




                                                {#<cq-chart-title cq-marker cq-browser-tab>#}
                                                    {#<cq-symbol></cq-symbol>#}
                                                    {#<cq-chart-price>#}
                                                        {#<cq-current-price cq-animate style="font-size:18px; margin-left:17%; width:30px"></cq-current-price>#}
                                                        {#<cq-change>#}
                                                            {#<div class="ico"></div>#}
                                                            {#<cq-todays-change></cq-todays-change>#}
                                                        {#</cq-change>#}
                                                    {#</cq-chart-price>#}
                                                {#</cq-chart-title>#}

                                                {#<cq-study-legend cq-marker-label="Studies" cq-overlays-only cq-marker cq-hovershow>#}
                                                    {#<template>#}
                                                        {#<cq-item>#}
                                                            {#<cq-label></cq-label>#}
                                                            {#<span class="ciq-edit"></span>#}
                                                            {#<div class="ciq-icon ciq-close"></div>#}
                                                        {#</cq-item>#}
                                                    {#</template>#}
                                                {#</cq-study-legend>#}
                                                {#<cq-loader></cq-loader>#}
                                                {#<cq-hu-static>#}
                                                    {#<div>#}
                                                        {#<div>Price</div><cq-hu-price></cq-hu-price>#}
                                                        {#<div>Open</div><cq-hu-open></cq-hu-open>#}
                                                        {#<div>Close</div><cq-hu-close></cq-hu-close>#}
                                                    {#</div>#}
                                                    {#<div>#}
                                                        {#<div>Vol</div>#}
                                                        {#<cq-volume-section>#}
                                                            {#<cq-hu-volume></cq-hu-volume>#}
                                                            {#<cq-volume-rollup></cq-volume-rollup>#}
                                                        {#</cq-volume-section>#}
                                                        {#<div>High</div><cq-hu-high></cq-hu-high>#}
                                                        {#<div>Low</div><cq-hu-low></cq-hu-low>#}
                                                    {#</div>#}
                                                {#</cq-hu-static>#}

                                            {#</div>#}
                                            {#<!-- End Chart Container -->#}
                                        {#</div>#}
                                        {#<!-- End Chart Box -->#}
                                    {#</div>#}


                                    {#<!-- End Chart Area -->#}


                                    {#<!-- Markers/Events -->#}
                                    {#<div class="stx-marker-templates" style="display:none">#}
                                        {#<!-- Callout Markers -->#}
                                        {#<div class="callouts">#}
                                            {#<div class="stx-marker callout" style="left:0px; bottom:60px;">#}
                                                {#<div class="stx-stem"></div>#}
                                                {#<div class="stx-marker-content">#}
                                                    {#<h4>This is a callout marker</h4>#}
                                                    {#<div class="stx-marker-expand">#}
                                                        {#<p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>#}
                                                    {#</div>#}
                                                {#</div>#}
                                            {#</div>#}
                                            {#<div class="stx-marker callout" style="left:200px; bottom:60px;">#}
                                                {#<div class="stx-stem"></div>#}
                                                {#<div class="stx-marker-content">#}
                                                    {#<h4>This is a callout marker</h4>#}
                                                    {#<div class="stx-marker-expand">#}
                                                        {#<p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>#}
                                                    {#</div>#}
                                                {#</div>#}
                                            {#</div>#}
                                            {#<div class="stx-marker callout" style="left:400px; bottom:60px;">#}
                                                {#<div class="stx-stem"></div>#}
                                                {#<div class="stx-marker-content">#}
                                                    {#<h4>This is a callout marker</h4>#}
                                                    {#<div class="stx-marker-expand">#}
                                                        {#<p>Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.</p>#}
                                                    {#</div>#}
                                                {#</div>#}
                                            {#</div>#}
                                        {#</div>#}
                                        {#<!-- Abstract Markers. You can remove this unless you actually need a helicopter. Seriously though, markers can be anything you want them to be! -->#}
                                        {#<div class="abstract">#}
                                            {#<div class="stx-marker abstract">#}
                                                {#<div class="stx-marker-content">#}

                                                    {#<div class="sample">#}
                                                        {#<div id="stage">#}
                                                            {#<div id="helicopter">#}
                                                                {#<div id="propeller" style="height: 160px;">#}
                                                                    {#<div id="spinner" style="-webkit-transform-origin: 40px 0 0; transform-origin: 40px 0 0;">#}
                                                                        {#<div style="-webkit-transform: rotateY(0deg) translateX(40px); transform: rotateY(0deg) translateX(40px);"></div>#}
                                                                        {#<div style="-webkit-transform: rotateY(-90deg) translateX(40px); transform: rotateY(-90deg) translateX(40px);"></div>#}
                                                                        {#<div style="-webkit-transform: rotateY(-180deg) translateX(40px); transform: rotateY(-180deg) translateX(40px);"></div>#}
                                                                        {#<div style="-webkit-transform: rotateY(-270deg) translateX(40px); transform: rotateY(-270deg) translateX(40px);"></div>#}
                                                                    {#</div>#}
                                                                {#</div>#}
                                                                {#<div id="heli-body"></div>#}
                                                            {#</div>#}
                                                        {#</div>#}
                                                        {#<div class="text">This is an example of a complex marker which can contain html, video, images, css, and animations.</div>#}
                                                    {#</div>#}
                                                {#</div>#}
                                            {#</div>#}
                                        {#</div>#}
                                    {#</div>#}
                                    {#<!-- End Marker/Events -->#}

                                    {#<!-- Attribution component -->#}
                                    {#<cq-attribution>#}
                                        {#<template>#}
                                            {#<cq-attrib-container>#}
                                                {#<cq-attrib-source></cq-attrib-source>&nbsp;#}
                                                {#<cq-attrib-quote-type></cq-attrib-quote-type>#}
                                            {#</cq-attrib-container>#}
                                        {#</template>#}
                                    {#</cq-attribution>#}


                                    {#<cq-hu-dynamic>#}
                                        {#<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 215 140" enable-background="new 0 0 215 140" xml:space="preserve">#}
		{#<defs>#}
            {#<filter id="ciq-hu-shadow" height="130%">#}
                {#<feGaussianBlur in="SourceAlpha" stdDeviation="1"/>#}
                {#<feOffset dx="0" dy="1" result="offsetblur"/>#}
                {#<feComponentTransfer>#}
                    {#<feFuncA type="linear" slope="0.2"/>#}
                {#</feComponentTransfer>#}
                {#<feMerge>#}
                    {#<feMergeNode/>#}
                    {#<feMergeNode in="SourceGraphic"/>#}
                {#</feMerge>#}
            {#</filter>#}
        {#</defs>#}
                                            {#<polygon class="ciq-hu-bg" fill="#2A51D0" points="198.4,124.4 1,124.4 1,1 214,1 214,137.8" filter="url(#ciq-hu-shadow)"/>#}
                                            {#<path class="ciq-hu-stroke" fill="#398DFF" d="M213,2v133.6l-13.7-11.8l-0.6-0.5H198H2V2H213 M215,0H0v125.4h198l17,14.6V0L215,0z"/>#}
	{#</svg>#}
                                        {#<div>#}
                                            {#<cq-hu-col1>#}
                                                {#<cq-hu-date></cq-hu-date>#}
                                                {#<cq-hu-price></cq-hu-price>#}
                                                {#<cq-volume-grouping>#}
                                                    {#<div>Volume</div>#}
                                                    {#<div><cq-volume-visual></cq-volume-visual></div>#}
                                                    {#<div><cq-hu-volume></cq-hu-volume><cq-volume-rollup></cq-volume-rollup></div>#}
                                                {#</cq-volume-grouping>#}
                                            {#</cq-hu-col1>#}
                                            {#<cq-hu-col2>#}
                                                {#<div>Open</div><cq-hu-open></cq-hu-open>#}
                                                {#<div>Close</div><cq-hu-close></cq-hu-close>#}
                                                {#<div>High</div><cq-hu-high></cq-hu-high>#}
                                                {#<div>Low</div><cq-hu-low></cq-hu-low>#}
                                            {#</cq-hu-col2>#}
                                        {#</div>#}

                                    {#</cq-hu-dynamic>#}



                                    {#<!-- End Footer -->#}

                                    {#<cq-dialog>#}
                                        {#<cq-view-dialog>#}
                                            {#<h4>Save View</h4>#}
                                            {#<div stxtap="close()" class="ciq-icon ciq-close"></div>#}
                                            {#<div style="text-align:center;margin-top:10px;">#}
                                                {#<i>Enter name of view:</i>#}
                                                {#<p>#}
                                                    {#<input spellcheck="false" autocapitalize="off" autocorrect="off" autocomplete="off" maxlength="40" placeholder="Name"><br>#}
                                                {#</p>#}
                                                {#<span class="ciq-btn" stxtap="save()">Save</span>#}
                                            {#</div>#}
                                        {#</cq-view-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-aggregation-dialog>#}
                                            {#<h4 class="title"></h4>#}
                                            {#<div stxtap="hide()" class="ciq-icon ciq-close"></div>#}
                                            {#<div style="text-align:center;margin-top:10px;">#}
                                                {#<div class="ciqkagi">#}
                                                    {#<i>Enter value and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="kagi" stxtap="Layout.setAggregationEdit('kagi')">#}
                                                {#</div>#}
                                                {#<div class="ciqrenko">#}
                                                    {#<i>Enter value and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="renko" stxtap="Layout.setAggregationEdit('renko')">#}
                                                {#</div>#}
                                                {#<div class="ciqlinebreak">#}
                                                    {#<i>Enter value and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="priceLines" stxtap="Layout.setAggregationEdit('priceLines')">#}
                                                {#</div>#}
                                                {#<div class="ciqrangebars">#}
                                                    {#<i>Enter value and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="range" stxtap="Layout.setAggregationEdit('range')">#}
                                                {#</div>#}
                                                {#<div class="ciqpandf">#}
                                                    {#<i>Enter box size and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="box" stxtap="Layout.setAggregationEdit('pandf.box')">#}
                                                    {#<p>#}
                                                        {#<i>Enter reversal and hit "Enter"</i>#}
                                                    {#<p>#}
                                                        {#<input name="reversal" stxtap="Layout.setAggregationEdit('pandf.reversal')">#}
                                                {#</div>#}
                                                {#<p>or#}
                                                {#<p>#}
                                                {#<div class="ciq-btn" stxtap="Layout.setAggregationEdit('auto')">Auto Select</div>#}
                                            {#</div>#}
                                        {#</cq-aggregation-dialog>#}
                                    {#</cq-dialog>#}


                                    {#<cq-dialog>#}
                                        {#<cq-study-context>#}
                                            {#<div stxtap="StudyEdit.edit()">Edit Settings...</div>#}
                                            {#<div stxtap="StudyEdit.remove()">Delete Study</div>#}
                                        {#</cq-study-context>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-fib-settings-dialog>#}
                                            {#<h4 class="title">Settings</h4>#}
                                            {#<cq-scroll cq-no-maximize>#}
                                                {#<cq-fibonacci-settings>#}
                                                    {#<template cq-fibonacci-setting>#}
                                                        {#<cq-fibonacci-setting>#}
                                                            {#<div class="ciq-heading"></div>#}
                                                            {#<div class="stx-data">#}
                                                                {#<input type="checkbox">#}
                                                            {#</div>#}
                                                        {#</cq-fibonacci-setting>#}
                                                    {#</template>#}
                                                {#</cq-fibonacci-settings>#}
                                            {#</cq-scroll>#}
                                            {#<div class="ciq-dialog-cntrls">#}
                                                {#<div class="ciq-btn" stxtap="close()">Done</div>#}
                                            {#</div>#}
                                        {#</cq-fib-settings-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-study-dialog>#}
                                            {#<h4 class="title">Study</h4>#}
                                            {#<cq-scroll cq-no-maximize>#}
                                                {#<cq-study-inputs>#}
                                                    {#<template cq-study-input>#}
                                                        {#<cq-study-input>#}
                                                            {#<div class="ciq-heading"></div>#}
                                                            {#<div class="stx-data">#}
                                                                {#<template cq-menu>#}
                                                                    {#<cq-menu class="ciq-select">#}
                                                                        {#<cq-selected></cq-selected>#}
                                                                        {#<cq-menu-dropdown cq-lift></cq-menu-dropdown>#}
                                                                    {#</cq-menu>#}
                                                                {#</template>#}
                                                            {#</div>#}
                                                        {#</cq-study-input>#}
                                                    {#</template>#}
                                                {#</cq-study-inputs>#}
                                                {#<hr>#}
                                                {#<cq-study-outputs>#}
                                                    {#<template cq-study-output>#}
                                                        {#<cq-study-output>#}
                                                            {#<div class="ciq-heading"></div>#}
                                                            {#<cq-swatch cq-overrides="auto"></cq-swatch>#}
                                                        {#</cq-study-output>#}
                                                    {#</template>#}
                                                {#</cq-study-outputs>#}
                                                {#<hr>#}
                                                {#<cq-study-parameters>#}
                                                    {#<template cq-study-parameters>#}
                                                        {#<cq-study-parameter>#}
                                                            {#<div class="ciq-heading"></div>#}
                                                            {#<div class="stx-data"><cq-swatch cq-overrides="auto"></cq-swatch></div>#}
                                                        {#</cq-study-parameter>#}
                                                    {#</template>#}
                                                {#</cq-study-parameters>#}
                                            {#</cq-scroll>#}
                                            {#<div class="ciq-dialog-cntrls">#}
                                                {#<div class="ciq-btn" stxtap="close()">Done</div>#}
                                            {#</div>#}
                                        {#</cq-study-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-theme-dialog>#}
                                            {#<h4 class="title">Create Custom Theme</h4>#}
                                            {#<cq-close></cq-close>#}
                                            {#<cq-scroll cq-no-maximize>#}
                                                {#<cq-section>#}
                                                    {#<cq-placeholder>Candle Color#}
                                                        {#<cq-theme-piece cq-piece="cu"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>#}
                                                        {#<cq-theme-piece cq-piece="cd"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-placeholder>Candle Wick#}
                                                        {#<cq-theme-piece cq-piece="wu"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                        {#<cq-theme-piece cq-piece="wd"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-placeholder>Candle Border#}
                                                        {#<cq-theme-piece cq-piece="bu"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>#}
                                                        {#<cq-theme-piece cq-piece="bd"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-separator></cq-separator>#}
                                                    {#<cq-placeholder>Line/Bar Chart#}
                                                        {#<cq-theme-piece cq-piece="lc"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-separator></cq-separator>#}
                                                    {#<cq-placeholder>Mountain Color#}
                                                        {#<cq-theme-piece cq-piece="mc"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                {#</cq-section>#}
                                                {#<cq-section>#}
                                                    {#<cq-placeholder>Background#}
                                                        {#<cq-theme-piece cq-piece="bg"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-placeholder>Grid Lines#}
                                                        {#<cq-theme-piece cq-piece="gl"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-placeholder>Date Dividers#}
                                                        {#<cq-theme-piece cq-piece="dd"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                    {#<cq-placeholder>Axis Text<cq-theme-piece cq-piece="at"><cq-swatch></cq-swatch></cq-theme-piece>#}
                                                    {#</cq-placeholder>#}
                                                {#</cq-section>#}
                                                {#<cq-action>#}
                                                    {#<input><div stxtap="save()" class="ciq-btn">Save</div>#}
                                                {#</cq-action>#}
                                            {#</cq-scroll>#}
                                        {#</cq-theme-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-timezone-dialog>#}
                                            {#<h4 class="title">Choose Timezone</h4>#}
                                            {#<cq-close></cq-close>#}

                                            {#<p>To set your timezone use the location button below, or scroll through the following list...</p>#}
                                            {#<p id="currentUserTimeZone"></p>#}
                                            {#<div class="detect">#}
                                                {#<div class="ciq-btn" stxtap="removeTimezone()">Use My Current Location</div>#}
                                            {#</div>#}
                                            {#<div id="timezoneDialogWrapper" style="max-height:360px; overflow: auto;">#}
                                                {#<ul>#}
                                                    {#<li id="timezoneTemplate" style="display:none;cursor:pointer;"></li>#}
                                                {#</ul>#}
                                            {#</div>#}
                                            {#<div class="instruct">(Scroll for more options)</div>#}
                                        {#</cq-timezone-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-language-dialog>#}
                                            {#<h4 class="title">Choose language</h4>#}
                                            {#<cq-close></cq-close>#}
                                            {#<cq-languages>#}
                                                {#<template><div><cq-flag></cq-flag><cq-language-name></cq-language-name></div></template>#}
                                            {#</cq-languages>#}
                                        {#</cq-language-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-dialog>#}
                                        {#<cq-share-dialog>#}
                                            {#<div>#}
                                                {#<h4 class="title">Share Your Chart</h4>#}
                                                {#<cq-separator></cq-separator>#}
                                                {#<cq-share-create class="ciq-btn" stxtap="share()">Create Image</cq-share-create>#}
                                                {#<cq-share-generating style="display:none">Generating Image</cq-share-generating>#}
                                                {#<cq-share-uploading style="display:none">Uploading Image</cq-share-uploading>#}

                                                {#<div class="share-link-div"></div>#}

                                                {#<cq-separator></cq-separator>#}
                                                {#<div class="ciq-dialog-cntrls">#}
                                                    {#<div stxtap="close()" class="ciq-btn">Done</div>#}
                                                {#</div>#}

                                            {#</div>#}
                                        {#</cq-share-dialog>#}
                                    {#</cq-dialog>#}

                                    {#<cq-side-panel></cq-side-panel>#}
                                {#</cq-context>#}

                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</section>#}
        {#</div>#}
    {#</div>#}
    {#</div>#}
    {#</div>#}
{#{% endblock %}#}


{#{% block javascripts %}#}
    {#<script src="{{ asset('js/Chart_crypto.js') }}"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/chartiq.js"></script>#}

    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/translations.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/componentUI.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/components.js"></script>#}
    {#<script src="http://tradingcompare.com/ChartIQ/js/components.js"></script>#}
    {#<script src="http://tradingcompare.com/ChartIQ/js/translations.js"></script>#}
    {#<script src="http://tradingcompare.com/ChartIQ/js/componentUI.js"></script>#}

    {#<script src="https://tradingcompare.com/ChartIQ/js/quoteFeedSimulator.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/iscroll.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/plugin.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/addOns.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/object-observe.js"></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/webcomponents-lite.min.js"></script>#}
    {#<script src='https://tradingcompare.com/ChartIQ/js/thirdparty/perfect-scrollbar.jquery.js'></script>#}
    {#<script src="https://tradingcompare.com/ChartIQ/js/thirdparty/html2canvas.js"></script>#}
    {#<!-- <script src="plugins/tradingcentral/components.js"></script> -->#}


    {#<!--<script src="js/thirdparty/splines.js"></script>-->#}
    {#<script src=" https://www.interactivecrypto.com/chart_iq_web/js/quoteFeedSimulator.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/iscroll.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/plugin.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/addOns.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/object-observe.js"></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/webcomponents-lite.min.js"></script>#}
    {#<script src='https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/perfect-scrollbar.jquery.js'></script>#}
    {#<script src="https://www.interactivecrypto.com/chart_iq_web/js/thirdparty/html2canvas.js"></script>#}
    {#<!-- <script src="plugins/tradingcentral/components.js"></script> -->#}


    {#<script src="https://www.interactivecrypto.com/script/CCCAGG.js"></script>#}
    {#<script src="{{ asset('js/chart-live-iq.js') }}"></script>#}
    {#<script>#}
        {#function loadCSS(hf) {#}
            {#var ms = document.createElement("link");#}
            {#ms.rel = "stylesheet";#}
            {#ms.href = hf;#}
            {#document.getElementsByTagName("head")[0].appendChild(ms);#}
        {#}#}
        {#loadCSS('{{asset("css/footer.css")}}');#}
        {#loadCSS('{{ asset("font/font_avenir.css")}}');#}
        {#loadCSS('{{ asset("css/charts.css")}}');#}
        {#loadCSS("https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i");#}
        {#loadCSS("https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css");#}

        {#//User Styles: Main#}
        {#//User Styles: Media#}
    {#</script>#}

    {#<!-- Load CSS compiled without Bootstrap & Header styles (after release) -->#}
    {#<script>var ms = document.createElement("link");#}
        {#ms.rel = "stylesheet";#}
        {#ms.href = '{{ asset("css/compiled.min.css")}}';#}
        {#document.getElementsByTagName("head")[0].appendChild(ms);#}
    {#</script>#}

    {#<!-- Load Scripts -->#}
    {#<script>var scr = {#}
            {#"scripts": [#}
                {#{"src": '{{ asset("js/jquery-3.3.1.min.js")}}', "async": false},#}
                {#{"src": '{{ asset("js/general.js")}}', "async": false},#}
                {#{"src": "https://use.fontawesome.com/releases/v5.0.10/js/all.js", "async": false},#}

            {#]#}
        {#};#}
        {#!function (t, n, r) {#}
            {#"use strict";#}
            {#var c = function (t) {#}
                {#if ("[object Array]" !== Object.prototype.toString.call(t)) return !1;#}
                {#for (var r = 0; r < t.length; r++) {#}
                    {#var c = n.createElement("script"), e = t[r];#}
                    {#c.src = e.src, c.async = e.async, n.body.appendChild(c)#}
                {#}#}
                {#return !0#}
            {#};#}
            {#t.addEventListener ? t.addEventListener("load", function () {#}
                {#c(r.scripts);#}
            {#}, !1) : t.attachEvent ? t.attachEvent("onload", function () {#}
                {#c(r.scripts)#}
            {#}) : t.onload = function () {#}
                {#c(r.scripts)#}
            {#}#}
        {#}(window, document, scr);#}
    {#</script>#}
    {#<script>#}
        {#// function clickme()#}
        {#// {#}
        {#//     clickme2()#}
        {#// }#}
        {#(function($) {#}
            {#function checkWidth() {#}
                {#if ($(window).width() > 700) {#}
                    {#$('body').removeClass('break-md break-sm').addClass('break-lg');#}
                    {#$('.icon-toggles').removeClass('sidenav active').addClass('ciq-toggles');#}
                    {#stxx.layout.sidenav = 'sidenavOff';#}
                    {#$('#symbol').attr("placeholder", "Enter Symbol");#}
                    {#return;#}
                {#}#}
                {#if ($(window).width() <= 700 && $(window).width() > 584) {#}
                    {#$('body').removeClass('break-lg break-sm').addClass('break-md');#}
                    {#$('.icon-toggles').removeClass('sidenav active').addClass('ciq-toggles');#}
                    {#stxx.layout.sidenav = 'sidenavOff';#}
                    {#$('#symbol').attr("placeholder", "Symbol");#}
                    {#return;#}
                {#}#}
                {#if ($(window).width() <= 584) {#}
                    {#$('body').removeClass('break-md break-lg').addClass('break-sm');#}
                    {#$('.icon-toggles').removeClass('ciq-toggles').addClass('sidenav');#}
                    {#$('#symbol').attr("placeholder", "");#}
                {#}#}
            {#}#}

            {#function setHeight() {#}
                {#var windowHeight=$(window).height();#}
                {#var ciqHeight = $('.ciq-chart').height();#}

                {#if ($('body').hasClass("toolbar-on")) {#}
                    {#$('#chartContainer').height(ciqHeight - 45);#}
                {#} else {#}
                    {#$('#chartContainer').height(ciqHeight);#}
                {#}#}
                {#// This little snippet will ensure that dialog boxes are never larger than the screen height#}
                {#$('#maxHeightCSS').remove();#}
                {#$('head').append('<style id="maxHeightCSS">cq-dialog { max-height: ' +  windowHeight + 'px }</style>');#}
            {#}#}


            {#$(".stx-markers cq-item.circle").stxtap(function(){#}
                {#$(".stx-markers .ciq-radio").removeClass("ciq-active");#}
                {#$(".stx-markers cq-item.circle .ciq-radio").addClass("ciq-active");#}
                {#showMarkers("circle");#}
            {#});#}
            {#$(".stx-markers cq-item.square").stxtap(function(){#}
                {#$(".stx-markers .ciq-radio").removeClass("ciq-active");#}
                {#$(".stx-markers cq-item.square .ciq-radio").addClass("ciq-active");#}
                {#showMarkers("square");#}
            {#});#}
            {#$(".stx-markers cq-item.callout").stxtap(function(){#}
                {#$(".stx-markers .ciq-radio").removeClass("ciq-active");#}
                {#$(".stx-markers cq-item.callout .ciq-radio").addClass("ciq-active");#}
                {#showMarkers("callout");#}
            {#});#}
            {#$(".stx-markers cq-item.abstract").stxtap(function(){#}
                {#$(".stx-markers .ciq-radio").removeClass("ciq-active");#}
                {#$(".stx-markers cq-item.abstract .ciq-radio").addClass("ciq-active");#}
                {#hideMarkers();#}
                {#var helicopter=$(".stx-marker.abstract").clone();#}
                {#helicopter.css({"z-index":"30","left":(0.4*stxx.chart.width).toString()+"px"});#}
                {#var marker=new CIQ.Marker({#}
                    {#stx: stxx,#}
                    {#xPositioner:"none",#}
                    {#yPositioner:"above_candle",#}
                    {#label: "helicopter",#}
                    {#permanent: true,#}
                    {#chartContainer: true,#}
                    {#node: helicopter[0]#}
                {#});#}
                {#stxx.draw(); // call draw() when you're done adding markers. They will be positioned in batch.#}
            {#});#}

            {#$(".stx-markers cq-item.none").stxtap(function(){#}
                {#$(".stx-markers .ciq-radio").removeClass("ciq-active");#}
                {#$(".stx-markers cq-item.none .ciq-radio").addClass("ciq-active");#}
                {#hideMarkers();#}
            {#});#}
            {#function httpGet(theUrl) {#}
                {#var xmlHttp = new XMLHttpRequest();#}
                {#xmlHttp.open("GET", theUrl, false); // false for synchronous request#}
                {#xmlHttp.send(null);#}
                {#// console.log("1adress", theUrl);#}
                {#return xmlHttp.responseText;#}
            {#}#}

            {#var socket = io.connect('https://streamer.cryptocompare.com/');#}
            {#var stxx=new CIQ.ChartEngine({container:$("#chartContainer")[0],layout:{"interval":60} ,preferences:{labels:false, currentPriceLine:true, whitespace:50}});#}
            {#stxx.layout.crosshair=true;#}
{#// Attach an automated quote feed to the chart to handle initial load, pagination and updates at preset intervals.#}
            {#stxx.attachQuoteFeed(quotefeedSimulator,{refreshInterval:1,bufferSize:200});#}

            {#// function clickme2()#}
            {#// {#}
            {#//     stxx.newChart(XRP/USD/Bitstamp);#}
            {#// }#}
            {#//#}
            {#//#}
            {#function setExchange() {#}
                {#//EXCHANGE#}

                {#var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + stxx.chart.symbol)#}
                {#var Exchange_list = JSON.parse(arr)#}
                {#Exchange = Exchange_list[0]#}

                {#if(Exchange_list.length != 0)#}
                    {#jQuery('#selectExchange').css("display", "");#}

                {#var selectExchange = document.getElementById("selectExchange");#}


                {#jQuery('#selectExchange').empty()#}

                {#for (var i = 0; i < Exchange_list.length; i++) {#}
                    {#console.log(stxx.chart.symbol,Exchange_list[i])#}
                    {#var option = document.createElement("option");#}
                    {#option.value = Exchange_list[i]#}
                    {#option.text = Exchange_list[i]#}
                    {#selectExchange.appendChild(option);#}
                {#}#}
                {#// jQuery('#selectExchange').val(Exchange)#}
                {#// console.log("//////////////",jQuery( "#selectExchange option:selected" ).text())#}
                {#fill_price()#}

                {#jQuery('#selectExchange').on('change', function (e) {#}
                    {#console.log("innnnnnnnnnnnnnnnnn",stxx.chart.symbol)#}
                    {#var ExchangeSelected = jQuery("option:selected", this);#}
                    {#Exchange = this.value#}

                    {#var from = stxx.chart.symbol.split("/")[0]#}
                    {#var name = get_name(from)#}

                    {#var old_curr = stxx.chart.symbol#}
                    {#var Exchange = jQuery( "#selectExchange option:selected" ).text()#}
                    {#if(Exchange.length == 0)#}
                    {#{#}
                        {#var channel = "5~CCCAGG"#}
                    {#}#}
                    {#else#}
                    {#{#}
                        {#var channel = "2~" + Exchange#}
                    {#}#}

                    {#var my_channel = channel +"~" + old_curr.split("/")[0] + "~" + old_curr.split("/")[1]#}
                    {#subscription = [my_channel]#}
                    {#console.log("--------------",subscription)#}
                    {#socket.emit('SubRemove', { subs: subscription });#}

                    {#//   UIContext.UISymbolLookup.selectItem({symbol: stxx.chart.symbol, name: "Bitcoin", exchDisp: Exchange})#}
                    {#var symb = {symbol: stxx.chart.symbol, name: name, exchDisp: Exchange}#}
                    {#stxx.newChart(symb, null, null, function(err){#}
                        {#if(err){#}
                            {#//TODO, symbol not found error#}
                            {#if(self.loader) self.loader.hide();#}
                            {#return;#}

                        {#}#}

                        {#setWS()#}
                    {#})#}
                {#});#}
            {#}#}

            {#function fillExchange() {#}
                {#//EXCHANGE#}

                {#var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + stxx.chart.symbol)#}
                {#var Exchange_list = JSON.parse(arr)#}
                {#Exchange = Exchange_list[0]#}

                {#var selectExchange = document.getElementById("selectExchange");#}

                {#jQuery('#selectExchange').empty()#}

                {#for (var i = 0; i < Exchange_list.length; i++) {#}
                    {#console.log(stxx.chart.symbol,Exchange_list[i])#}
                    {#var option = document.createElement("option");#}
                    {#option.value = Exchange_list[i]#}
                    {#option.text = Exchange_list[i]#}
                    {#selectExchange.appendChild(option);#}
                {#}#}
            {#}#}
{#// Optionally set a market factory to the chart to make it market hours aware. Otherwise it will operate in 24x7 mode.#}
{#// This is required for the simulator, or if you intend to also enable Extended hours trading zones.#}
{#//stxx.setMarketFactory(CIQ.Market.Symbology.factory);#}

{#// Extended hours trading zones -- Make sure this is instantiated before calling startUI as a timing issue with may occur#}
            {#new CIQ.ExtendedHours({stx:stxx, filter:true});#}

{#// Floating tooltip on mousehover#}
{#// comment in the following line if you want a tooltip to display when the crosshair toggle is turned on#}
{#// This should be used as an *alternative* to the HeadsUP (HUD).#}
            {#new CIQ.Tooltip({stx:stxx, ohl:true, volume:true, series:true, studies:true});#}

{#// Inactivity timer#}
            {#new CIQ.InactivityTimer({stx:stxx, minutes:30});#}

{#// Animation (using tension requires splines.js)#}
{#//new CIQ.Animation(stxx, {tension:0.3});#}

{#//TODO, encapsulate these in a helper object#}
            {#function restoreLayout(stx, cb){#}
                {#// var datum=CIQ.localStorage.getItem("myChartLayout");#}
                {#// if(datum===null) return;#}
                {#// function closure(){#}
                {#// 	restoreDrawings(stx, stx.chart.symbol);#}
                {#// 	if(cb) cb();#}
                {#// }#}
                {#// stx.importLayout(JSON.parse(datum), {managePeriodicity:true, cb: closure});#}
            {#}#}

            {#function saveLayout(obj){#}
                {#// var s=JSON.stringify(obj.stx.exportLayout(true));#}
                {#// CIQ.localStorageSetItem("myChartLayout", s);#}
            {#}#}

            {#function restoreDrawings(stx, symbol){#}
                {#var memory=CIQ.localStorage.getItem(symbol);#}
                {#if(memory!==null){#}
                    {#var parsed=JSON.parse(memory);#}
                    {#if(parsed){#}
                        {#stx.importDrawings(parsed);#}
                        {#stx.draw();#}
                    {#}#}
                {#}#}
            {#}#}

            {#function saveDrawings(obj){#}
                {#var tmp=obj.stx.exportDrawings();#}
                {#if(tmp.length===0){#}
                    {#CIQ.localStorage.removeItem(obj.symbol);#}
                {#}else{#}
                    {#CIQ.localStorageSetItem(obj.symbol, JSON.stringify(tmp));#}
                {#}#}
            {#}#}

            {#function restorePreferences(){#}
                {#var pref=CIQ.localStorage.getItem("myChartPreferences");#}
                {#if (pref) stxx.importPreferences(JSON.parse(pref));#}
            {#}#}

            {#function savePreferences(obj){#}
                {#CIQ.localStorageSetItem("myChartPreferences",JSON.stringify(stxx.exportPreferences()));#}
            {#}#}

            {#function retoggleEvents(obj){#}
                {#var active=$(".stx-markers .ciq-radio.ciq-active");#}
                {#active.parent().triggerHandler("stxtap");#}
            {#}#}

{#//****************comment out if do not want to remember data#}
{#// stxx.callbacks.layout=saveLayout;#}
{#// stxx.callbacks.symbolChange=saveLayout;#}
            {#stxx.callbacks.drawing=saveDrawings;#}
            {#stxx.callbacks.newChart=retoggleEvents;#}
            {#stxx.callbacks.preferences=savePreferences;#}

            {#var UIContext;#}

            {#function startUI(){#}

                {#UIContext=new CIQ.UI.Context(stxx, $("cq-context,[cq-context]"));#}
                {#var UILayout=new CIQ.UI.Layout(UIContext);#}
                {#var UIHeadsUpDynamic=new CIQ.UI.HeadsUp($("cq-hu-dynamic"), UIContext, {followMouse:true, autoStart: false});#}
                {#var UIHeadsUpStatic=new CIQ.UI.HeadsUp($("cq-hu-static"), UIContext, {autoStart: true});#}

                {#//fill_select_curr()#}

                {#UIContext.changeSymbol=function(data){#}

                    {#var stx=this.stx;#}
                    {#if(this.loader) this.loader.show();#}
                    {#data.symbol=data.symbol.toUpperCase(); // set a pretty display version#}

                    {#if(stxx.chart.symbol != null)#}
                    {#{#}

                    {#}#}
                    {#// reset comparisons - remove this loop to transfer from symbol to symbol.#}
                    {#for(var field in stx.chart.series) {#}
                        {#// keep studies#}
                        {#if (stxx.chart.series[field].parameters.bucket != "study" ) stx.removeSeries(field);#}
                    {#}#}

                    {#var self=this;#}
                    {#stx.newChart(data, null, null, function(err){#}
                        {#if(err){#}
                            {#//TODO, symbol not found error#}
                            {#if(self.loader) self.loader.hide();#}
                            {#return;#}

                        {#}#}
                        {#// The user has changed the symbol, populate $("cq-chart-title")[0].previousClose with yesterday's closing price#}

                        {#if(stx.tfc) stx.tfc.changeSymbol();   // Update trade from chart#}
                        {#if(self.loader) self.loader.hide();#}
                        {#restoreDrawings(stx, stx.chart.symbol);#}
                        {#console.log("++++++++++++++++++++++++++",old_curr,data.symbol)#}
                        {#if(old_curr != data.symbol && stxx.chart.symbol!= null)#}
                        {#{fillExchange()}// load an initial symbol#}
                        {#//setWS()#}

                    {#});#}
                    {#console.log("OUTTTTT",data.symbol)#}
                    {#//fillExchange()#}
                {#};#}

                {#UIContext.setLookupDriver(new CIQ.UI.Lookup.Driver.ChartIQ());#}
                {#UIContext.UISymbolLookup=$(".ciq-search cq-lookup")[0];#}
                {#var KeystrokeHub=new CIQ.UI.KeystrokeHub($("body"), UIContext, {cb:CIQ.UI.KeystrokeHub.defaultHotKeys});#}
                {#var UIStudyEdit=new CIQ.UI.StudyEdit(null, UIContext);#}
                {#var UIStorage=new CIQ.NameValueStore();#}

                {#var UIThemes=$("cq-themes");#}
                {#UIThemes[0].initialize({#}
                    {#builtInThemes: {"ciq-day":"Day","ciq-night":"Night"},#}
                    {#defaultTheme: "ciq-night",#}
                    {#nameValueStore: UIStorage#}
                {#});#}

                {#var sidePanel=$("cq-side-panel")[0];#}
                {#if(sidePanel) sidePanel.registerCallback(resizeScreen);#}

                {#$(".ciq-sidenav")[0].registerCallback(function (value) {#}
                    {#var stx=this.context.stx, rightPx;#}
                    {#var sidePanelWidth = sidePanel?sidePanel.nonAnimatedWidth():0;#}
                    {#if (value === 'sidenavOn') {#}
                        {#var chartHolderHeight = $('.stx-holder').height();#}
                        {#$('.sidenav').height(chartHolderHeight);#}
                        {#this.node.addClass("active");#}
                        {#stx.layout.sidenav = "sidenavOn";#}
                        {#$('.sidenav').addClass("active");#}
                        {#rightPx=this.node.width()+sidePanelWidth;#}
                    {#} else if (value === 'sidenavOff') {#}
                        {#rightPx=sidePanelWidth;#}
                        {#$('.sidenav').removeClass("active");#}
                        {#this.node.removeClass("active");#}
                        {#stx.layout.sidenav = "sidenavOff";#}
                    {#}#}
                    {#$("cq-side-panel").css("right", rightPx - sidePanelWidth +"px");#}
                    {#$('.ciq-chart-area').css({'right': rightPx +'px'});#}
                    {#$('cq-tradingcentral').css({'margin-right': rightPx + 15 + 'px'});#}
                    {#if(stx.slider) stx.slider.display(stx.layout.rangeSlider);#}
                {#});#}

                {#$(".ciq-HU")[0].registerCallback(function(value){#}
                    {#if(value==="static"){#}
                        {#UIHeadsUpDynamic.end();#}
                        {#UIHeadsUpStatic.begin();#}
                        {#this.node.addClass("active");#}
                    {#}else if(value==="dynamic"){#}
                        {#if(CIQ.isMobile){#}
                            {#// The dynamic headsUp doesn't make any sense on mobile devices so we skip that toggle#}
                            {#// by manually setting the toggle to "static"#}
                            {#this.set("static");#}
                            {#UIHeadsUpDynamic.end();#}
                            {#UIHeadsUpStatic.begin();#}
                            {#this.node.addClass("active");#}
                        {#}else{#}
                            {#UIHeadsUpStatic.end();#}
                            {#UIHeadsUpDynamic.begin();#}
                            {#this.node.addClass("active");#}
                        {#}#}
                    {#}else{#}
                        {#UIHeadsUpStatic.end();#}
                        {#UIHeadsUpDynamic.end();#}
                        {#this.node.removeClass("active");#}
                    {#}#}
                {#});#}
                {#$(".ciq-draw")[0].registerCallback(function(value){#}
                    {#if(value){#}
                        {#this.node.addClass("active");#}
                        {#$("body").addClass("toolbar-on");#}
                    {#}else{#}
                        {#this.node.removeClass("active");#}
                        {#$("body").removeClass("toolbar-on");#}
                    {#}#}
                    {#setHeight();#}
                    {#var stx=this.context.stx;#}
                    {#stx.resizeChart();#}

                    {#// a little code here to remember what the previous drawing tool was#}
                    {#// and to re-enable it when the toolbar is reopened#}
                    {#if(value){#}
                        {#stx.changeVectorType(this.priorVectorType);#}
                    {#}else{#}
                        {#this.priorVectorType=stx.currentVectorParameters.vectorType;#}
                        {#stx.changeVectorType("");#}
                    {#}#}
                {#});#}

                {#if( $('.stx-trade')[0] ) {#}
                    {#$('.stx-trade')[0].registerCallback(function(value) {#}
                        {#var sidePanel=$("cq-side-panel")[0];#}
                        {#if(value){#}
                            {#sidePanel.open({selector:".stx-trade-panel",className:"active"});#}
                            {#this.node.addClass("active");#}
                            {#$(".stx-trade-panel").removeClass("closed");#}
                            {#stxx.layout.sidenav = 'sidenavOff'; // in break-sm hide sidenav when turning on tfc side panel#}
                        {#}else{#}
                            {#sidePanel.close();#}
                            {#this.node.removeClass("active");#}
                            {#$(".stx-trade-panel").addClass("closed");#}
                        {#}#}
                    {#});#}
                {#}#}

                {#if( $('.stx-tradingcentral')[0] ) {#}
                    {#$('.stx-tradingcentral')[0].registerCallback(function(value) {#}
                        {#var tcElement = $('cq-tradingcentral')[0];#}
                        {#if (value) {#}
                            {#tcElement.removeAttribute('disabled');#}
                        {#} else {#}
                            {#tcElement.setAttribute('disabled', 'disabled');#}
                        {#}#}
                    {#});#}
                {#}#}

                {#$("cq-redo")[0].pairUp($("cq-undo"));#}

                {#var params={#}
                    {#excludedStudies: {#}
                        {#"Directional": true,#}
                        {#"Gopala":true,#}
                        {#"vchart":true#}
                    {#},#}
                    {#alwaysDisplayDialog: {"ma":true},#}
                    {#/*dialogBeforeAddingStudy: {"rsi": true} // here's how to always show a dialog before adding the study*/#}
                {#};#}
                {#var UIStudyMenu=new CIQ.UI.StudyMenu($("*[cq-studies]"), UIContext, params);#}
                {#UIStudyMenu.renderMenu();#}

                {#$("cq-views").each(function(){#}
                    {#this.initialize();#}
                {#});#}

                {#if(UIContext.loader) UIContext.loader.show();#}
                {#restorePreferences();#}
                {#restoreLayout(stxx, function(){#}
                    {#if(UIContext.loader) UIContext.loader.hide();#}
                {#});#}

                {#//INITIAL SYMBOL#}
                {#if(!stxx.chart.symbol){#}
                    {#console.log("if null stxx.chart.symbol",stxx.chart.symbol)#}
                    {#initialSymbol()#}
                {#}#}

                {#CIQ.UI.begin();#}

                {#//CIQ.I18N.setLanguage(stxx, "zh");	// Optionally set a language for the UI, after it has been initialized, and translate.#}
            {#}#}

            {#function hideMarkers(){#}
                {#CIQ.Marker.removeByLabel(stxx, "circle");#}
                {#CIQ.Marker.removeByLabel(stxx, "square");#}
                {#CIQ.Marker.removeByLabel(stxx, "callout");#}
                {#CIQ.Marker.removeByLabel(stxx, "helicopter");#}
            {#}#}

            {#function showMarkers(standardType){#}
                {#// Remove any existing markers#}
                {#hideMarkers();#}
                {#var l=stxx.masterData.length;#}
                {#// An example of a data array to drive the marker creation#}
                {#var data=[#}
                    {#{x:stxx.masterData[l-5].DT, type:standardType, category:"news", headline:"This is a Marker for a News Item"},#}
                    {#{x:stxx.masterData[l-15].DT, type:standardType, category:"earningsUp", headline:"This is a Marker for Earnings (+)"},#}
                    {#{x:stxx.masterData[l-25].DT, type:standardType, category:"earningsDown", headline:"This is a Marker for Earnings (-)"},#}
                    {#{x:stxx.masterData[l-35].DT, type:standardType, category:"dividend", headline:"This is a Marker for Dividends"},#}
                    {#{x:stxx.masterData[l-45].DT, type:standardType, category:"filing", headline:"This is a Marker for a Filing"},#}
                    {#{x:stxx.masterData[l-55].DT, type:standardType, category:"split", headline:"This is a Marker for a Split"}#}
                {#];#}
                {#var story="Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.";#}

                {#// Loop through the data and create markers#}
                {#for(var i=0;i<data.length;i++){#}
                    {#var datum=data[i];#}
                    {#datum.story=story;#}
                    {#var params={#}
                        {#stx:stxx,#}
                        {#label:standardType,#}
                        {#xPositioner:"date",#}
                        {#x: datum.x,#}
                        {#//chartContainer: true, // Allow markers to float out of chart. Set css .stx-marker{ z-index:20}#}
                        {#node: new CIQ.Marker.Simple(datum)#}
                    {#};#}

                    {#var marker=new CIQ.Marker(params);#}
                {#}#}
                {#stxx.draw();#}
            {#}#}

            {#function resizeScreen(){#}
                {#if(!UIContext) return;#}
                {#checkWidth();#}
                {#setHeight();#}
                {#var sidePanel=$("cq-side-panel")[0];#}
                {#if(sidePanel){#}
                    {#$('.ciq-chart-area').css({'right': sidePanel.nonAnimatedWidth() +'px'});#}
                    {#$('cq-tradingcentral').css({'margin-right': sidePanel.nonAnimatedWidth() + 15 + 'px'});#}
                {#}#}
                {#stxx.resizeChart();#}
                {#if(stxx.slider) stxx.slider.display(stxx.layout.rangeSlider);#}
            {#}#}

{#//Range Slider; needs to be created before startUI() is called for custom themes to apply#}
            {#new CIQ.RangeSlider({stx:stxx});#}

            {#var webComponentsSupported = ('registerElement' in document &&#}
                {#'import' in document.createElement('link') &&#}
                {#'content' in document.createElement('template'));#}

            {#if(webComponentsSupported){#}
                {#startUI();#}
                {#resizeScreen();#}
            {#}else{#}
                {#window.addEventListener('WebComponentsReady', function(e) {#}
                    {#startUI();#}
                    {#resizeScreen();#}
                {#});#}
            {#}#}

            {#if(typeof Promise === 'undefined') CIQ.loadScript('js/thirdparty/promise.min.js'); // Necessary for IE and MSFT Edge if you are using sharing (because html2canvas uses promises)#}
            {#$(window).resize(resizeScreen);#}
            {#var currentPrice = {};#}

            {#//	 document.title =   title#}

            {#var previous_price#}
            {#function fill_price ()#}
            {#{#}
                {#//console.log("***********************", stxx.chart.symbol)#}
                {#var curr =  stxx.chart.symbol.split("/")[0]#}
                {#var Symbol = stxx.chart.symbol.split("/")[1]#}
                {#var Exchange =  get_default_exchange(stxx.chart.symbol)#}
                {#//console.log("EXCHANGE", Exchange.length)#}
                {#var exchange_var#}
                {#if(typeof Exchange != 'undefined' && Exchange.length !==0 && Exchange != 'AGG')#}
                {#{#}
                    {#exchange_var = "&e=" + Exchange#}
                {#}#}
                {#else{#}
                    {#exchange_var = ""#}
                {#}#}
                {#if(typeof Symbol == "undefined")#}
                {#{#}
                    {#Symbol = "USD"#}
                {#}#}
                {#var url = "https://min-api.cryptocompare.com/data/pricemultifull?fsyms=" + curr + "&tsyms=" + Symbol + exchange_var#}
                {#// console.log("****fill price***********url",url)#}

                {#jQuery.getJSON(url, function (data) {#}
                    {#//                console.log(data.RAW[curr].USD.CHANGEPCT24HOUR)#}
                    {#//console.log(data)#}
                    {#var displaySymbol =data.DISPLAY[curr][Symbol].TOSYMBOL#}
                    {#var val = data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2);#}
                    {#var change_div = jQuery("cq-todays-change")#}
                    {#// console.log("CHANGE DIV",change_div)#}
                    {#if (val > 0) {#}
                        {#///change_div.style.color = "green";#}
                        {#jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}
                    {#} else {#}
                        {#//change_div.style.color = "red";#}
                        {#jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}
                    {#}#}
                    {#//console.log(url)#}
                    {#//console.log(Intl.NumberFormat("de-DE").format(data.RAW[curr][Symbol].PRICE.toFixed(5)))#}
                    {#//var x = document.getElementById("curr_img");#}
                    {#//x.className = "curr_img"#}
                    {#//x.src = img_src;#}
                    {#var title#}
                    {#jQuery("cq-todays-change").css({ 'font-size':15 });#}
                    {#if( (data.RAW[curr][Symbol].PRICE) < 1 )#}
                    {#{#}
                        {#console.log('+++++++++++++++++++++++++',(data.RAW[curr][Symbol].PRICE))#}
                        {#jQuery("cq-current-price").text( (data.RAW[curr][Symbol].PRICE));#}
                        {#title  =  curr + "/" + Symbol + "\u200b  "+ "\u200b  " + "\u200b  " + (data.RAW[curr][Symbol].PRICE) + " \u200b ";#}
                    {#}#}
                    {#else#}
                    {#{#}
                        {#console.log("hhhhh",(data.RAW[curr][Symbol].PRICE).toLocaleString())#}
                        {#jQuery("cq-current-price").text( (data.RAW[curr][Symbol].PRICE).toLocaleString());#}
                        {#title  =  curr + "/" + Symbol + "\u200b  "+ "\u200b  " + "\u200b  " + (data.RAW[curr][Symbol].PRICE).toLocaleString() + " \u200b ";#}
                    {#}#}

                    {#//document.title = title#}
                {#});#}
            {#}#}

            {#function update_chart_price ()#}
            {#{#}
                {#console.log("***********************", stxx.chart.symbol)#}
                {#var curr =  stxx.chart.symbol.split("/")[0]#}
                {#var Symbol = stxx.chart.symbol.split("/")[1]#}
                {#var Exchange = jQuery( "#selectExchange option:selected" ).text()#}
                {#//console.log("EXCHANGE", Exchange.length)#}

                {#var exchange_var#}
                {#if(typeof Exchange != 'undefined' && Exchange.length !==0)#}
                {#{#}
                    {#exchange_var = "&e=" + Exchange#}
                {#}#}
                {#else{#}
                    {#exchange_var = ""#}
                {#}#}
                {#if(typeof Symbol == "undefined")#}
                {#{#}
                    {#Symbol = "USD"#}
                {#}#}
                {#var url = "https://min-api.cryptocompare.com/data/pricemultifull?fsyms=" + curr + "&tsyms=" + Symbol + exchange_var#}
                {#// console.log("***************url",url)#}

                {#jQuery.getJSON(url, function (data) {#}
                    {#//                console.log(data.RAW[curr].USD.CHANGEPCT24HOUR)#}
                    {#//console.log(data)#}
                    {#var displaySymbol =data.DISPLAY[curr][Symbol].TOSYMBOL#}

                    {#var val = data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2);#}
                    {#var change_div = jQuery("cq-todays-change")#}
                    {#// console.log("CHANGE DIV",change_div)#}
                    {#if (val > 0) {#}
                        {#///change_div.style.color = "green";#}
                        {#jQuery("cq-todays-change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}
                        {#// jQuery("#change").text('\u25b2' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}

                    {#} else {#}
                        {#//change_div.style.color = "red";#}
                        {#jQuery("cq-todays-change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}
                        {#// jQuery("#change").text('\u25bc' + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].CHANGEPCT24HOUR.toFixed(2)) + "%");#}
                    {#}#}
                    {#//console.log(url)#}
                    {#//console.log(Intl.NumberFormat("de-DE").format(data.RAW[curr][Symbol].PRICE.toFixed(5)))#}
                    {#//var x = document.getElementById("curr_img");#}
                    {#//x.className = "curr_img"#}
                    {#//x.src = img_src;#}
                    {#jQuery("cq-todays-change").css({ 'font-size':15 });#}
{#// jQuery("#volume").html(displaySymbol + " " + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].VOLUME24HOURTO.toFixed(3)));#}
{#// jQuery("#marketcap").html(displaySymbol + " " + Intl.NumberFormat("en-US").format(data.RAW[curr][Symbol].MKTCAP.toFixed(3)));#}
                {#});#}
            {#}#}

            {#setInterval(() => {#}
                {#update_chart_price()#}
            {#}, 2000);#}

            {#function initialSymbol ()#}
            {#{#}
                {#var from,to#}
                {#var pair = "{{ from }}"+ "/" + "{{ to }}"#}
                {#var exchange = get_default_exchange(pair)#}
                {#var name = get_name("{{ from }}")#}
                {#console.log("pair",pair,"exchange",exchange,"name",name)#}
                {#var symb = {symbol: pair, name: name, exchDisp: exchange}#}

                {#stxx.newChart(symb, null, null, function(err){#}
                    {#if(err){#}
                        {#//TODO, symbol not found error#}
                        {#if(self.loader) self.loader.hide();#}
                        {#return;#}
                    {#}#}
                    {#setExchange()#}

                {#})#}
            {#}#}

            {#function get_default_exchange(symbol)#}
            {#{#}
                {#var arr = httpGet('https://afternoon-mountain-15657.herokuapp.com/Exchanges/' + symbol)#}
                {#var Exchange_list = JSON.parse(arr)#}
                {#if(Exchange_list.length == 0)#}
                    {#return "AGG"#}
                {#Exchange = Exchange_list[0]#}
                {#return Exchange#}
            {#}#}

            {#function get_name(curr)#}

            {#{   console.log("curr",curr)#}
                {#var array = httpGet('https://afternoon-mountain-15657.herokuapp.com/All-Coins-Aviho')#}
                {#var list = JSON.parse(array)#}
                {#console.log("list",list)#}
                {#var obj = list.find(o => o.FROMSYMBOL == curr)#}
                {#return obj.name#}
            {#}#}


            {#function httpGet2(url2){#}
                {#var xhr = new XMLHttpRequest();#}
                {#xhr.open( "GET", url2, false ); // false for synchronous request#}
                {#xhr.send( null );#}
                {#//console.log("xhr.responseText",xhr.responseText)#}
                {#return xhr.responseText;#}
            {#}#}

            {#function fill_select_curr()#}
            {#{#}
                {#var data  = []#}
                {#var url2= "https://afternoon-mountain-15657.herokuapp.com/MarketsAndNames"#}
                {#var mySelect = httpGet2(url2);#}
                {#var select_list = JSON.parse(mySelect)#}
                {#for (var i = 0; i < select_list[0].length; i++) {#}

                    {#var obj = {#}
                        {#label: select_list[0][i] + ": " + select_list[1][i],#}
                        {#value: select_list[1][i]#}
                    {#}#}
                    {#data.push(obj)#}
                    {#//console.log("data*******", data)#}
                {#}#}
                {#console.log("helooooooooooooooooooooo",data)#}
                {#jQuery(function() {#}
                    {#jQuery( "#tags" ).autocomplete({#}
                        {#source: function( request, response ) {#}
                            {#console.log("1",request.term)#}
                            {#var matcher = new RegExp( "^" + jQuery.ui.autocomplete.escapeRegex( request.term ), "i" );#}
                            {#response(jQuery.grep( data, function( item ){#}

                                {#return matcher.test( item.label ) || matcher.test( item.value )#}
                            {#}) );#}
                        {#},#}
                        {#minLength: 0#}
                        {#,#}
                        {#select: function( event , ui ) {#}
                            {#event.preventDefault();#}
                            {#jQuery("#tags").val(ui.item.label);#}
                            {#console.log( "You selected: " + ui.item.label )#}
                            {#openNewChart(ui.item.label)#}
                        {#}#}
                    {#}).focus(function() {#}
                        {#console.log("val", jQuery(this).val())#}
                        {#jQuery(this).autocomplete("search", jQuery(this).val());#}
                    {#});#}
                {#});#}
            {#}#}

            {#function openNewChart(pair)#}
            {#{#}
                {#var temp_pair = pair.split(":")[0]#}

                {#var from = temp_pair.split("/")[0]#}
                {#var to = temp_pair.split("/")[1]#}
                {#var name = pair.split(":")[1].replace(" ","")#}
                {#var exchange = get_default_exchange(temp_pair)#}
                {#var symb = {symbol: temp_pair, name: name, exchDisp: exchange}#}
                {#console.log("Will soon open ", "from",temp_pair,"to",symb,"name",name)#}
                {#console.log("oooooooooooooo",exchange)#}
                {#var name = get_name(from)#}
                {#var symb = {symbol: temp_pair, name: name, exchDisp: exchange}#}

                {#var old_curr = stxx.chart.symbol#}
                {#console.log("old_curr",old_curr)#}
                {#var Exchange = jQuery( "#selectExchange option:selected" ).text()#}
                {#if(Exchange. length == 0)#}
                {#{#}
                    {#var channel = "5~CCCAGG"#}
                {#}#}
                {#else#}
                {#{#}
                    {#var channel = "2~" + Exchange#}
                {#}#}

                {#var my_channel = channel +"~" + old_curr.split("/")[0] + "~" + old_curr.split("/")[1]#}
                {#subscription = [my_channel]#}
                {#console.log("--------------",subscription)#}
                {#socket.emit('SubRemove', { subs: subscription });#}

                {#stxx.newChart(symb, null, null, function(err){#}
                    {#if(err){#}
                        {#//TODO, symbol not found error#}
                        {#if(self.loader) self.loader.hide();#}
                        {#return;#}

                    {#}#}

                    {#fillExchange()#}
                    {#fill_price()#}

                    {#setWS()#}
                {#})#}


            {#}#}

            {#var currentPrice = {};#}
            {#function get_curr_symbol () {#}
                {#return stxx.chart.symbol#}
            {#}#}

            {#function get_curr_exchange () {#}
                {#return jQuery( "#selectExchange option:selected" ).text()#}
            {#}#}

            {#function setWS()#}
            {#{#}
                {#var Exchange = jQuery( "#selectExchange option:selected" ).text()#}
                {#if(Exchange.length == 0 )#}
                {#{#}
                    {#var channel = "5~CCCAGG"#}
                {#}#}
                {#else#}
                {#{#}
                    {#var channel = "2~" + Exchange#}
                {#}#}

                {#var my_channel =  channel + "~" + stxx.chart.symbol.split("/")[0]  + "~" + stxx.chart.symbol.split("/")[1]#}

                {#console.log("my_channel",my_channel)#}
                {#var arr = [my_channel]#}

{#//console.log(arr)#}


                {#//Format: {SubscriptionId}~{ExchangeName}~{FromSymbol}~{ToSymbol}#}
                {#//Use SubscriptionId 0 for TRADE, 2 for CURRENT and 5 for CURRENTAGG#}
                {#//For aggregate quote updates use CCCAGG as market#}
                {#//var subscription = ['2~Bitfinex~BTC~USD'];#}
                {#var subscription = arr#}
                {#socket.emit('SubAdd', { subs: subscription });#}
                {#socket.on("m", function(message) {#}
                    {#var messageType = message.substring(0, message.indexOf("~"));#}
                    {#var res = {};#}
                    {#//  console.log(messageType,CCC.STATIC.TYPE.CURRENTAGG)#}
                    {#//if (messageType == CCC.STATIC.TYPE.CURRENTAGG) {#}

                    {#res = CCC.CURRENT.unpack(message);#}
                    {#var curr_sym = get_curr_symbol()#}
                    {#var from = curr_sym.split("/")[0]#}
                    {#var to =  curr_sym.split("/")[1]#}
                    {#var exch = get_curr_exchange()#}
                    {#//  console.log("message",from,to,exch)#}
                    {#if(res.TYPE == 2 && res.FROMSYMBOL == from && res.TOSYMBOL == to && res.MARKET == exch )#}
                    {#{#}
                        {#console.log("unpack",res.TYPE,res)#}
                        {#dataUnpack(res);#}
                    {#}#}



                    {#// }#}
                {#});#}
            {#}#}


            {#var dataUnpack = function(data) {#}
                {#var from = data['FROMSYMBOL'];#}
                {#var to = data['TOSYMBOL'];#}
                {#var fsym = CCC.STATIC.CURRENCY.getSymbol(from);#}
                {#var tsym = CCC.STATIC.CURRENCY.getSymbol(to);#}

                {#var pair = from + to;#}
                {#//console.log(pair);#}

                {#if (!currentPrice.hasOwnProperty(pair)) {#}
                    {#currentPrice[pair] = {};#}
                {#}#}

                {#for (var key in data) {#}

                    {#currentPrice[pair][key] = data[key];#}
                {#}#}
                {#//console.log(data)#}
{#//  	 var tt = jQuery("cq-current-price").text(  );#}
{#//      console.log("compare",currentPrice[pair]['PRICE'] ,tt )#}
                {#currentPrice[pair]['CHANGE24HOURPCT'] = (Math.abs((currentPrice[pair]['PRICE'] - currentPrice[pair]['OPEN24HOUR'])) / currentPrice[pair]['OPEN24HOUR'] * 100).toFixed(2) + "%"#}
                {#displayData(currentPrice[pair], from, tsym, fsym);#}
            {#};#}


            {#var displayData = function(current, from, tsym, fsym) {#}
                {#//display data for ONE pair#}
                {#//console.log(current);#}
                {#var priceDirection = current.FLAGS;#}
                {#var old = jQuery("cq-current-price").text(  );#}
                {#var change24hour#}


                {#var title#}
                {#var for_title#}
                {#//console.log("innnnnnnnnnnnnnnn")#}
                {#if(typeof current['PRICE'] == "undefined" || Number.isNaN(current['PRICE']))#}
                {#{#}
                    {#for_title = ""#}
                {#}#}
                {#else#}
                {#{#}
                    {#if(current['PRICE'] < 1)#}
                    {#{#}
                        {#jQuery("cq-current-price").text( (current['PRICE']));#}

                        {#for_title = (current['PRICE'])#}
{#//console.log("<11111111",current['PRICE'])#}
                    {#}#}
                    {#else#}
                    {#{#}
                        {#jQuery("cq-current-price").text( (current['PRICE']).toLocaleString());#}

                        {#for_title = (current['PRICE']).toLocaleString()#}
{#//console.log(">11111111",(current['PRICE']).toLocaleString())#}
                    {#}#}


                {#}#}


                {#jQuery("cq-current-price").removeClass();#}


                {#if (priceDirection & 1) {#}
                    {#jQuery("cq-current-price").addClass("price_up");#}

                    {#if( for_title.length != 0)#}
                        {#title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " +"\u25b2 " + for_title + " \u200b ";#}
                {#}#}
                {#else if (priceDirection & 2) {#}
                    {#jQuery("cq-current-price").addClass("price_down");#}

                    {#if( for_title.length != 0)#}
                        {#title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " + "\u25bc "  + for_title + " \u200b ";#}

                {#}#}
                {#else{#}
                    {#if( for_title.length != 0)#}
                        {#title  =  stxx.chart.symbol.replace("_","/") + "\u200b  "+ "\u200b  " + "\u200b  " + for_title + " \u200b ";#}
                {#}#}
                {#console.log("333333333333",title)#}
                {#setTimeout(() => {#}
{#//console.log("----------")#}
                    {#jQuery("cq-current-price").removeClass();#}

                {#}, 2000);#}
                {#if( for_title.length != 0) {#}
                    {#//document.title =   title#}
                {#}#}



            {#}#}

        {#})(jQuery);#}

    {#</script>#}



    {#<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />#}
    {#<script src="https://code.jquery.com/jquery-1.9.1.js"></script>#}
    {#<script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>#}


{#{% endblock %}#}

